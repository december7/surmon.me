(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,function(t,e,a){"use strict";var n=a(1),s=(a(5),a(70)),i=a.n(s),o=a(16),r=a(7),l=a.n(r);e.a=new n.a({data:()=>({emoji233333:null,player:{player:null,playerState:{seek:0,index:0,targetIndex:0,volume:.4,wave:!1,ready:!1,muted:!1,loading:!1,playing:!1,progress:0},list:{fetching:!1,data:null},song:{fetching:!1,data:null},lrc:{fetching:!1,data:null}}}),computed:{currentSong(){return this.player.list.data?this.player.list.data.tracks[this.player.playerState.index]:null},currentSongPicUrl(){const t=`${this.cdnUrl}/images/music-bg.jpg`;if(this.currentSong){const e=this.currentSong.album.picUrl;return e?e.replace("http://",this.proxyUrl)+"?param=600y600":t}return t}},methods:{initPlayer(){(t=>{const e=l.a.baseUrl,a=l.a.proxyUrl,n=t.list.data.tracks;if(t.player)return console.warn("Player was inited!",t.player),t.player;if(!n.length)return console.warn("PlayList is empty!"),!1;const s=n.map(t=>({howl:null,id:t.id,html5:!0,name:t.name,album:t.al||{},artists:t.ar||[],duration:t.dt||200,src:null}));t.list.data.tracks=s;const r=()=>{const e=s[t.playerState.index].howl,a=e.seek()||0;t.playerState.progress=a/e.duration()*100,e.playing()&&requestAnimationFrame(r)};t.player={play(n){n=Object.is(typeof n,"number")?n:t.playerState.index,t.playerState.targetIndex=n;const l=s[t.playerState.index];if(l&&l.howl){if(Object.is(n,t.playerState.index))return l.howl.playing()||(l.song_id=l.howl.play(),l.howl.fade(0,t.playerState.volume,1e3,l.song_id)),!1;l.howl.playing()&&(l.howl.stop(),o.Howler._howls.forEach(t=>t.stop()))}const c=s[n];if(!c)return!1;const u=e=>{e.howl&&(e.howl.stop(),e.howl.unload()),e.howl=null,s.splice(s.findIndex(t=>Object.is(t.id,e.id)),1),t.list.data.tracks.splice(t.list.data.tracks.findIndex(t=>Object.is(t.name,e.name)),1),t.playerState.wave=!1,t.playerState.playing=!0;const a=t.playerState.index-1;t.playerState.index=a<0?0:a,t.player.nextSong(),t.playerState.ready=!0},d=e=>{e.howl=e.howl||new o.Howl({loop:!1,html5:!0,autoplay:!1,volume:t.playerState.volume,src:[(e.src||" ").replace(/(http:\/\/|https:\/\/)/gi,a)],onplay(){t.playerState.ready=!0,t.playerState.wave=!0,t.playerState.loading=!1,t.playerState.playing=!0,t.playerState.progress=0,requestAnimationFrame(r)},onload(){t.playerState.wave=!0,t.playerState.playing=!0},onend(){t.playerState.wave=!1,t.playerState.playing=!0,t.player.nextSong()},onpause(){t.playerState.wave=!1,t.playerState.playing=!1},onstop(){t.playerState.wave=!1,t.playerState.playing=!1,t.playerState.progress=100},onloaderror(){u(e)},onvolume(){t.playerState.volume=o.Howler.volume()}}),e.song_id=e.howl.play(),e.howl.fade(0,t.playerState.volume,3e3,e.song_id),"loaded"===e.howl.state()?(t.playerState.loading=!1,t.playerState.playing=!0):(t.playerState.loading=!0,t.playerState.playing=!1),t.playerState.index=n,t.playerState.targetIndex=n};c.src?d(c):(t.playerState.ready=!1,i.a.get(`${e}/music/url/${c.id}`).then(e=>{e.status&&e.data&&Object.is(e.data.code,1)&&Object.is(e.data.result.code,200)&&e.data.result.data.length?(c.src=e.data.result.data[0].url,c.id==s[t.playerState.targetIndex].id&&d(c)):u(c)}).catch(t=>{u(c)}))},pause(){const e=s[t.playerState.index];e.howl&&e.howl.playing()&&e.howl.pause(),o.Howler._howls.forEach(t=>t.pause())},togglePlay(){const e=s[t.playerState.index].howl;e&&e.playing()?t.player.pause():t.player.play()},volume(t){o.Howler.volume(t)},toggleMuted(){o.Howler.mute(!t.playerState.muted),t.playerState.muted=!t.playerState.muted},skipToSong(e){const a=s[t.playerState.index];a&&a.howl&&a.howl.stop(),o.Howler._howls.forEach(t=>t.stop()),t.playerState.progress=0,t.player.play(e)},prevSong(){let e=t.playerState.targetIndex-1;e=e<0?s.length-1:e,t.player.skipToSong(e)},nextSong(){let e=t.playerState.targetIndex+1;e=e>=s.length?0:e,t.player.skipToSong(e)}},t.playerState.ready=!0})(this.player),this.player.playerState.ready&&this.player.player.play&&window.addLoadedTask(()=>{window.onmousemove=(()=>{this.player.player.play(),window.onmousemove=null})})},requestMusicList(){this.player.list.fetching=!0},getMusicListFailure(){this.player.list.fetching=!1,this.player.list.data=null},getMusicListSuccess(t){this.player.list.fetching=!1,this.player.list.data=t.result},requestSong(){this.player.song.fetching=!0},getSongFailure(){this.player.song.data=null,this.player.song.fetching=!1},getSongSuccess(t){this.player.song.data=t.result,this.player.song.fetching=!1},requestLrc(){this.player.lrc.fetching=!0},getLrcFailure(){this.player.lrc.fetching=!1,this.player.lrc.data=null},getLrcSuccess(t){this.player.lrc.fetching=!1,this.player.lrc.data=t.result}}})},function(t,e,a){(function(e){const a=e.env,n=Object.is("production","development"),s=Object.is("production","production"),i=e&&!1,o=e&&!1,r=e&&!0;t.exports={isDevMode:n,isProdMode:s,environment:a,isStatic:i,isBrowser:r,isServer:o}}).call(this,a(18))},,,function(t,e,a){const{isProdMode:n}=a(4);t.exports={cdnUrl:"",proxyUrl:n?"":"/proxy/",baseUrl:n?"https://api.qiekenol.com":"http://localhost:8000",socketHost:n?"https://api.qiekenol.com":"http://localhost:3000"}},,,,function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});a(5);const n=a(276),s={$:t=>document.querySelector(t),on(t,e,a){e instanceof Array||(e=[e]),e.forEach(e=>{t.addEventListener(e,a,{passive:!0})})},off(t,e,a){e instanceof Array||(e=[e]),e.forEach(e=>{t.removeEventListener(e,a)})}},i={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},o=(t,e=500,a)=>{(a=a||{}).easing=i.ease,"string"==typeof t&&(t=s.$(t));const o=s.$("html, body"),r=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"];let l=!1;const c=function(){l=!0};s.on(o,r,c);let u=0;const d=window.pageYOffset;u=Object.is(typeof t,"number")?t:d+t.getBoundingClientRect().top;let p=document.body.scrollHeight-u<window.innerHeight?document.body.scrollHeight-window.innerHeight:u;a.offset&&(p+=a.offset);const m=p-d,h=Reflect.apply(n,n,a.easing);let _;const g=function(){s.off(o,r,c),l&&a.onCancel&&a.onCancel(),!l&&a.onDone&&a.onDone()};m&&window.requestAnimationFrame(function t(a){if(l)return g();_||(_=a);const n=a-_;let s=Math.min(n/e,1);s=h(s),window.scrollTo(0,d+m*s),n<e?window.requestAnimationFrame(t):g()})}},,,,function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"a",function(){return r});const n=t=>localStorage.getItem(t),s=t=>localStorage.removeItem(t),i=(t,e)=>localStorage.setItem(t,e),o={get(){const t=n("user");return t?JSON.parse(t):null},remove:()=>s("user"),set:t=>i("user",JSON.stringify(t))},r={get(){const t=n("user_like_history");return t?JSON.parse(t):null},remove:()=>s("user_like_history"),set:t=>i("user_like_history",JSON.stringify(t))}},,,,,,,,,,,,function(t,e,a){"use strict";var n=a(24),s=a.n(n),i=a(28),o=a(138);s.a.setOptions({renderer:new s.a.Renderer,gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1,highlight:t=>i.a.highlightAuto(t).value});const r=new s.a.Renderer;r.link=((t,e,a)=>{const n=t.includes("surmon.me"),s=a.includes("<img");return`<a href="${t}" \n             target="_blank" \n             class="${s?"image-link":"link"}"\n             title="${e||(s?t:a)}" \n             ${n?"":'rel="external nofollow noopenter"'}>${a}</a>`.replace(/\s+/g," ").replace("\n","")}),r.code=function(t,e,a){if(this.options.highlight){const n=this.options.highlight(t,e);null!=n&&n!==t&&(a=!0,t=n)}const n=t.split("\n").map((t,e)=>`<li class="code-line-number">${e+1}</li>`.replace(/\s+/g," ")).join("");return e?`<pre data-lang="${e}">\n              <ul class="code-lines">${n}</ul>\n              <code class="${this.options.langPrefix}${escape(e,!0)}">${a?t:escape(t,!0)}\n</code>\n            </pre>\n`.replace("\n",""):`<pre>\n              <ul class="code-lines">${n}</ul>\n              <code>${a?t:escape(t,!0)}\n</code>\n            </pre>`.replace("\n","")},r.image=((t,e,a)=>`<img src="${t=t.replace(/^http:\/\//gi,"/proxy/")}" \n               title="${e||a||"surmon.me"}" \n               alt="${a||e||t}" \n               onclick="if (window.utils) window.utils.openImgPopup('${t}')"/>`.replace(/\s+/g," ").replace("\n","")),r.paragraph=(t=>`<p>${t}</p>`),e.a=((t,e,a=!1)=>(e&&e.length?r.text=(t=>Object(o.a)(t,e)):r.text=(t=>t),s.a.setOptions({sanitize:!a}),"string"!=typeof t?"":s()(t,{renderer:r})))},function(t,e,a){"use strict";const n=a(298);n.registerLanguage("go",a(299)),n.registerLanguage("css",a(300)),n.registerLanguage("sql",a(301)),n.registerLanguage("php",a(302)),n.registerLanguage("xml",a(303)),n.registerLanguage("json",a(304)),n.registerLanguage("bash",a(305)),n.registerLanguage("less",a(306)),n.registerLanguage("scss",a(307)),n.registerLanguage("shell",a(308)),n.registerLanguage("nginx",a(309)),n.registerLanguage("stylus",a(310)),n.registerLanguage("python",a(311)),n.registerLanguage("javascript",a(312)),n.registerLanguage("typescript",a(313)),e.a=n},function(t,e,a){"use strict";var n=a(139),s=a.n(n);e.a=s.a},,,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_plugins_marked__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),_plugins_gravatar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_utils_event_bus__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_utils_scroll_to_anywhere__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_utils_ua_os_browser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(93),_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(15);__webpack_exports__.a={name:"vue-comment",data:()=>({pid:0,sortMode:-1,comemntContentHtml:"",comemntContentText:"",previewContent:"",previewMode:!1,userCacheMode:!1,userCacheEditing:!1,user:{name:"",email:"",site:"",gravatar:null},historyLikes:{pages:[],comments:[]},regexs:{email:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,url:/^((https|http):\/\/)+[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/},emojis:["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🇨🇳","🇺🇸","🇯🇵 ","🚩","🐶","❤️","💔","💩","👻"]}),props:{likes:{type:[String,Number],required:!0},postId:{type:[String,Number],required:!0}},computed:{...Object(vuex__WEBPACK_IMPORTED_MODULE_1__.b)({comment:t=>t.comment,language:t=>t.option.language,mobileLayout:t=>t.option.mobileLayout,blacklist:t=>t.option.globalOption.data.blacklist}),languageIsEn(){return this.$store.getters["option/langIsEn"]},pageLiked(){return this.historyLikes.pages.includes(this.postId)},isArticlePage(){return this.$route.params.article_id},isGuestbookPage(){return Object.is(this.$route.name,"guestbook")},replyCommentSlef(){return this.comment.data.data.find(t=>Object.is(t.id,this.pid))}},mounted(){this.initUser(),this.comment.data.pagination.total_page||this.loadComemntList()},destroyed(){this.$store.commit("comment/CLEAR_LIST")},methods:{browserParse:_utils_ua_os_browser__WEBPACK_IMPORTED_MODULE_6__.a,osParse:_utils_ua_os_browser__WEBPACK_IMPORTED_MODULE_6__.b,shang(){this.$ga.event("内容赞赏","点击","tool"),window.utils.openImgPopup(`${this.cdnUrl}/images/shang.jpg`,"shang")},marked:t=>Object(_plugins_marked__WEBPACK_IMPORTED_MODULE_2__.a)(t,null,!1),gravatar(t){if(!this.regexs.email.test(t))return null;return _plugins_gravatar__WEBPACK_IMPORTED_MODULE_3__.a.url(t,{protocol:"https"}).replace("https://s.gravatar.com/avatar","https://gravatar.surmon.me")},initUser(){const t=_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__.b.get(),e=_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__.a.get();e&&(this.historyLikes=e),t&&(this.user=t,this.upadteUserGravatar(),this.userCacheMode=!0)},updateUserCache(t){return t.preventDefault(),this.user.name?this.user.email?this.regexs.email.test(this.user.email)?this.user.site&&!this.regexs.url.test(this.user.site)?alert(this.$i18n.text.comment.profile.siteerr):(_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__.b.set(this.user),void(this.userCacheEditing=!1)):alert(this.$i18n.text.comment.profile.emailerr):alert(this.$i18n.text.comment.profile.email+"?"):alert(this.$i18n.text.comment.profile.name+"?")},claerUserCache(){this.userCacheMode=!1,this.userCacheEditing=!1,_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__.b.remove(),Object.keys(this.user).forEach(t=>{this.user[t]=""})},upadteUserGravatar(){const t=this.regexs.email.test(this.user.email);this.user.gravatar=t?this.gravatar(this.user.email):null},commentContentChange(){const t=this.$refs.markdown.innerHTML,e=this.$refs.markdown.innerText;Object.is(t,this.comemntContentHtml)||(this.comemntContentHtml=t),Object.is(e,this.comemntContentText)||(this.comemntContentText=e)},updateCommentContent({start:t="",end:e=""}){if(!t&&!e)return!1;const a=(window.getSelection||document.getSelection)().toString(),n=this.$refs.markdown.innerText;if(a){const s=n.replace(a,t+a+e);this.$refs.markdown.innerText=s}else this.$refs.markdown.innerText=this.$refs.markdown.innerText+=t+e,this.$refs.markdown.scrollTop=this.$refs.markdown.scrollHeight;this.commentContentChange()},clearCommentContent(t){this.comemntContentHtml="",this.$refs.markdown.innerHTML=this.comemntContentHtml,this.commentContentChange()},insertContent(t){const e={image:{start:"![",end:"](https://)"},link:{start:"[",end:"](https://)"},code:{start:"\n```javascript\n",end:"\n```"}};this.updateCommentContent(e[t])},insertEmoji(t){this.updateCommentContent({end:t})},togglePreviewMode(){this.previewContent=this.marked(this.comemntContentText),this.previewMode=!this.previewMode},sortComemnts(t){Object.is(this.sortMode,t)||(this.sortMode=t,this.loadComemntList())},paginationReverseActive(t){const e=this.comment.data.pagination;return Object.is(t,e.total_page+1-e.current_page)},clickUser(t,e){e.site||t.preventDefault()},toSomeAnchorById(t){const e=document.getElementById(t);if(e){const a=Object.is(t,"post-box");if(Object(_utils_scroll_to_anywhere__WEBPACK_IMPORTED_MODULE_5__.b)(e,200,{offset:a?0:-300}),a){const t=this.$refs.markdown,e=window.getSelection(),a=document.createRange();a.setStart(t,t.childElementCount),a.setEnd(t,t.childElementCount),e.removeAllRanges(),e.addRange(a)}}},replyComment(t){this.pid=t.id,this.toSomeAnchorById("post-box")},cancelCommentReply(){this.pid=0},fondReplyParent(t){const e=this.comment.data.data.find(e=>Object.is(e.id,t));return e?e.author.name:null},likePage(){if(this.pageLiked)return!1;this.$store.dispatch("likeArticleOrPageOrComment",{type:2,id:this.postId}).then(t=>{this.historyLikes.pages.push(this.postId),_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__.a.set(this.historyLikes)}).catch(t=>{console.warn("喜欢失败",t),alert(this.$i18n.text.comment.profile.actionerr)})},likeComment(t){if(this.commentLiked(t.id))return!1;this.$store.dispatch("likeArticleOrPageOrComment",{type:1,id:t.id}).then(e=>{this.historyLikes.comments.push(t.id),_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__.a.set(this.historyLikes)}).catch(t=>{console.warn("评论点赞失败",t),alert(this.$i18n.text.comment.profile.actionerr)})},commentLiked(t){return this.historyLikes.comments.includes(t)},loadComemntList(t={}){t.sort=this.sortMode,this.$store.dispatch("loadCommentsByPostId",Object.assign(t,{post_id:this.postId}))},submitComment(event){if(event.preventDefault(),!this.user.name)return alert(this.$i18n.text.comment.profile.name+"?");if(!this.user.email)return alert(this.$i18n.text.comment.profile.email+"?");if(!this.regexs.email.test(this.user.email))return alert(this.$i18n.text.comment.profile.emailerr);if(this.user.site&&!this.regexs.url.test(this.user.site))return alert(this.$i18n.text.comment.profile.siteerr);if(!this.comemntContentText||!this.comemntContentText.replace(/\s/g,""))return alert(this.$i18n.text.comment.profile.content+"?");const lineOverflow=this.comemntContentText.split("\n").length>36,lengthOverflow=this.comemntContentText.length>2e3;return lineOverflow||lengthOverflow?alert(this.$i18n.text.comment.profile.contenterr):this.blacklist.mails.includes(this.user.email)||this.blacklist.keywords.length&&eval(`/${this.blacklist.keywords.join("|")}/ig`).test(this.comemntContentText)?(alert(this.$i18n.text.comment.profile.submiterr),console.warn("评论发布失败\n1：邮箱被列入黑名单\n2：内容包含黑名单关键词"),!1):(this.user.site||Reflect.deleteProperty(this.user,"site"),void this.$store.dispatch("postComment",{pid:this.pid,post_id:this.postId,content:this.comemntContentText,author:this.user,agent:navigator.userAgent}).then(t=>{const e=t.result.content,a=_utils_event_bus__WEBPACK_IMPORTED_MODULE_4__.a.emoji233333;if(a&&a.launch){const t=(t,e)=>{const a=new Image;if(a.src=t,a.complete)return e(a);a.onload=(()=>e(a))};if(e.includes("2333")||e.includes("哈哈")){const e=a.defaultEmoji;a.update({emoji:e,speed:12,staggered:!0,increaseSpeed:.4}),t(e,a.launch.bind(a))}else if(e.includes("666")){const e="/images/emojis/666.png";a.update({emoji:e,speed:12,staggered:!0,increaseSpeed:.4}),t(e,a.launch.bind(a))}else if(e.includes("呵呵")){const e="/images/emojis/hehe.png";a.update({emoji:e,staggered:!1,speed:8,increaseSpeed:.04}),t(e,a.launch.bind(a))}}this.previewMode=!1,this.userCacheMode=!0,this.cancelCommentReply(),this.clearCommentContent(),_utils_local_storage__WEBPACK_IMPORTED_MODULE_7__.b.set(this.user)}).catch(t=>{console.warn("评论发布失败",t),alert(this.$i18n.text.comment.profile.submiterr)}))}}}},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},,function(t,e){t.exports={default:"zh",languages:[{code:"zh",iso:"zh-CN",name:"简体中文"},{code:"en",iso:"en-US",name:"English"}],data:{nav:{home:{zh:"明殿",en:"Home"},think:{zh:"无色庵",en:"think"},code:{zh:"宁静寺",en:"code"},project:{zh:"穷宝阁",en:"project"},music:{zh:"乐斋",en:"music"},about:{zh:"狂浪生",en:"about"},service:{zh:"德道",en:"service"},guestbook:{zh:"百鸣苑",en:"Guestbook"},taobao:{zh:"淘宝",en:"taobao"},aliyun:{zh:"阿里云",en:"aliyun"},app:{zh:"客户端",en:"app"},map:{zh:"怀柔天下",en:"SiteMap.XML"}},text:{empty:{zh:"空空如也",en:"No Result Data."},guestbook:{zh:"此心光明 亦复何言",en:"You have come a long way"},service:{slogan:{zh:"为我一挥手，如听万壑松",en:"Talk is cheap. Show me the code"},emailMe:{zh:"即破楼兰",en:"Email ME"}},device:{android:{zh:"安卓",en:"Android"},ios:{zh:"苹果",en:"IOS"}},webrtc:{zh:"视频会议",en:" WebRTC"},barrage:{name:{zh:"弹幕吐槽",en:"Barrage"}},feedback:{zh:"邮件反馈",en:"Feedback"},totop:{zh:"从头开始",en:"To top"},tobottom:{zh:"再来一屏",en:"Next screen"},origin:{original:{zh:"原创",en:"og"},reprint:{zh:"转载",en:"rp"},hybrid:{zh:" 混撰",en:"hb"}},action:{open:{zh:"展开描述",en:"open description"},close:{zh:"收起描述",en:"close description"},on:{zh:"开",en:"on"},off:{zh:"关",en:"off"}},slogan:{zh:"欢喜勇猛，向死而生",en:"Talk is cheap. Show me the code"},music:{empty:{zh:"唯音乐是灵魂最好的解药",en:"Music is the eye of ear."}},category:{name:{zh:"分门别类",en:"Categories"},empty:{zh:"未分类",en:"no cate"}},search:{zh:"向外探索，向内觉知",en:"Search..."},tag:{name:{zh:"画龙点睛",en:"Tags"},empty:{zh:"无标签",en:"No tags."}},article:{fullcolread:{zh:"通栏阅读",en:"Full Column"},fullscreenread:{zh:"全屏阅读",en:"Full Screen"},readAll:{zh:"阅读全文",en:"Read all"},rendering:{zh:"渲染中...",en:"rendering..."},name:{zh:"文不加点",en:"Articles"},empty:{zh:"空空如也",en:"No Result Article."},hotlist:{zh:"群贤毕至",en:"hot"},loadmore:{zh:"山河入梦",en:"loadmore"},loading:{zh:"人面桃花",en:"loading"},nomore:{zh:"春尽江南",en:"no more"}},page:{name:{zh:"黄卷青灯",en:"pages"}},announcement:{empty:{zh:"空空如也",en:"No announcements."}},comment:{empty:{zh:"期待你的捷足先登",en:"Go right to the heart of the matter."},anonymous:{zh:"匿名用户",en:"anonymous"},ding:{zh:"顶",en:"like"},reply:{zh:"回复",en:"reply"},pagenation:{new:{zh:"更新",en:"new"},old:{zh:"更旧",en:"old"}},profile:{name:{zh:"名字",en:"name"},email:{zh:"邮箱",en:"email"},site:{zh:"网址",en:"site"},content:{zh:"内容",en:"content"},emailerr:{zh:"邮箱不合法",en:"Email address is not legitimate!"},siteerr:{zh:"网址不合法",en:"Site is not legitimate!"},contenterr:{zh:"内容需要在2000字/36行以内",en:"Content requirements are within 2000 words / 36 lines!"},submiterr:{zh:"发布失败，原因 => 控制台",en:"Submit err, get err in dev console!"},actionerr:{zh:"操作失败，原因 => 控制台",en:"Action err, get err in dev console!"}},setting:{account:{zh:"设置账户信息",en:"account setting"},edit:{zh:"编辑信息",en:"edit profile"},clear:{zh:"清空信息",en:"clear profile"}},placeholder:{zh:"愿你的见解一针见血",en:"Go right to the heart of the matter."},count:{zh:"条看法",en:"comments"},like:{zh:"人觉得有点牛逼",en:" likes"},new:{zh:"最新",en:"new"},hot:{zh:"最热",en:"hot"},submit:{zh:"发射",en:"submit"},submiting:{zh:"发射中...",en:"submitinng"}}}}}},,,,,,,,,,,,,,,,,,,,,function(t,e){"serviceWorker"in navigator?navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(function(t){window.$sw=t}).catch(function(t){console.error("Service worker registration failed:",t)}):console.warn("Service workers are not supported.")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return browserParse}),__webpack_require__.d(__webpack_exports__,"b",function(){return osParse});const matchUa=(data,key)=>data.match(eval(`/${key}/ig`)),buildSpan=(t,e,a)=>`<span class="${t}"><i class="iconfont icon-${e}"></i>${a}</span>`,browserParse=t=>{const e=t=>t[0].split("/"),a=[{reg:/MSIE\s([^\s|]+)/gi,template:t=>buildSpan("ua_ie","ie","Internet Explorer | "+t[0].replace("MSIE","").split(".")[0])},{reg:/FireFox\/([^\s]+)/gi,template:t=>buildSpan("ua_firefox","firefox","Mozilla FireFox | "+e(t)[1])},{reg:/Maxthon([\d]*)\/([^\s]+)/gi,template:t=>buildSpan("ua_maxthon","maxthon","Maxthon")},{reg:/UBrowser([\d]*)\/([^\s]+)/gi,template:t=>buildSpan("ua_ucweb","uc","UCBrowser | "+e(t)[1])},{reg:/MetaSr/gi,template:t=>buildSpan("ua_sogou","internet","搜狗浏览器")},{reg:/2345Explorer/gi,template:t=>buildSpan("ua_2345explorer","internet","2345王牌浏览器")},{reg:/2345chrome/gi,template:t=>buildSpan("ua_2345chrome","internet","2345加速浏览器")},{reg:/LBBROWSER/gi,template:t=>buildSpan("ua_lbbrowser","internet","猎豹安全浏览器")},{reg:/MicroMessenger\/([^\s]+)/gi,template:t=>buildSpan("ua_qq","wechat","微信 | "+e(t)[1].split("/")[0])},{reg:/QQBrowser\/([^\s]+)/gi,template:t=>buildSpan("ua_qq","internet","QQ浏览器 | "+e(t)[1].split("/")[0])},{reg:/QQ\/([^\s]+)/gi,template:t=>buildSpan("ua_qq","internet","QQ浏览器 | "+e(t)[1].split("/")[0])},{reg:/MiuiBrowser\/([^\s]+)/gi,template:t=>buildSpan("ua_mi","internet","Miui浏览器 | "+e(t)[1].split("/")[0])},{reg:/Chrome([\d]*)\/([^\s]+)/gi,template:t=>buildSpan("ua_chrome","chrome","Chrome | "+e(t)[1].split(".")[0])},{reg:/safari\/([^\s]+)/gi,template:t=>buildSpan("ua_apple","safari","Apple Safari | "+e(t)[1])},{reg:/Opera[\s|\/]([^\s]+)/gi,template:t=>buildSpan("ua_opera","opera","Opera | "+t[1])},{reg:/Trident\/7.0/gi,template:t=>buildSpan("ua_ie","edge","Internet Explorer 11")}].find(e=>{const a=t.match(e.reg);return a&&a.length});return a?a.template(t.match(a.reg)):(()=>buildSpan("ua_other","internet","其它浏览器"))()},osParse=t=>{const e=[{key:"win",template:()=>(()=>matchUa(t,"nt 5.1")?buildSpan("os_xp","windows","Windows XP"):matchUa(t,"nt 6.1")?buildSpan("os_7","windows","Windows 7"):matchUa(t,"nt 6.2")?buildSpan("os_8","windows","Windows 8"):matchUa(t,"nt 6.3")?buildSpan("os_8_1","windows","Windows 8.1"):matchUa(t,"nt 10.0")?buildSpan("os_8_1","windows","Windows 10"):matchUa(t,"nt 6.0")?buildSpan("os_vista","windows","Windows Vista"):matchUa(t,"nt 5")?buildSpan("os_2000","windows","Windows 2000"):buildSpan("os_windows","windows","Windows"))()},{key:"android",template:()=>buildSpan("os_android","android","Android")},{key:"ubuntu",template:()=>buildSpan("os_ubuntu","ubuntu","Ubuntu")},{key:"linux",template:()=>buildSpan("os_linux","linux","Linux")},{key:"iphone",template:()=>buildSpan("os_mac","mac","iPhone OS")},{key:"mac",template:()=>buildSpan("os_mac","mac","Mac OS X")},{key:"unix",template:()=>buildSpan("os_unix","unix","Unix")}].find(e=>{const a=matchUa(t,e.key);return a&&a.length});return e?e.template():(()=>buildSpan("os_other","phone","Other"))()}},function(t,e,a){"use strict";var n={name:"share",data(){return{socials:[{name:"微信",class:"wechat",url:()=>`http://qr.topscan.com/api.php?text=${this.url}&w=300&el=h&m=10`},{name:"微博",class:"weibo",url:()=>`http://service.weibo.com/share/share.php?url=${this.url}&title=${this.title()}&source=${this.url}&sourceUrl=${this.url}&content=${this.description()}`},{name:"QQ空间",class:"qzone",url:()=>`http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${this.url}&title=${this.title()}&summary=${this.description()}&site=${this.url}`},{name:"豆瓣",class:"douban",url:()=>`https://www.douban.com/recommend/?url=${this.url}&title=${this.title()}`},{name:"人人",class:"renren",url:()=>`http://widget.renren.com/dialog/share?resourceUrl=${this.url}&srcUrl=${this.url}&title=${this.title()}&description=${this.description()}`},{name:"印象笔记",class:"evernote",url:()=>`https://www.evernote.com/clip.action?url=${this.url}&title=${this.title()}`},{name:"twitter",url:()=>`http://twitter.com/share?text=${this.title()}&url=${this.url}`},{name:"facebook",url:()=>`https://www.facebook.com/sharer/sharer.php?u=${this.url}`},{name:"linkedin",url:()=>`http://www.linkedin.com/shareArticle?title=${this.title()}&summary=${this.description()}&mini=true&url=${this.url}`}]}},computed:{url(){return`https://surmon.me${this.$route.fullPath}`},mobileLayout(){return this.$store.state.option.mobileLayout}},methods:{copyPageUrl(){this.$ga.social("主站复制","分享",this.url),this.$root.$copyToClipboard(this.url)},description(){try{if(document)return document.getElementsByName("description")[0].getAttribute("content")}catch(t){return""}},title(){try{if(document)return document.title}catch(t){return"Surmon.me"}},shareWindow(t,e){const a=e().includes("mailto")?e().replace(/\s|\||Surmon.me/g,""):encodeURI(e());this.$ga.social(t,"分享",a);const n=screen.availWidth/6*2,s=screen.availHeight/5*2,i=`top=${(screen.availHeight-s)/2},left=${(screen.availWidth-n)/2},width=${n},height=${s},scrollbars=0,status=0,menubar=0,resizable=2,location=0`;window.open(a,"分享 Surmon.me",i).focus()}}},s=(a(280),a(0)),i=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"share"}},[a("div",{staticClass:"share-box",class:{mobile:t.mobileLayout}},[t._l(t.socials,function(e,n){return a("a",{key:n,staticClass:"share-link",class:e.class||e.name,attrs:{title:e.name,rel:"nofollow noopener"},on:{click:function(a){a.preventDefault(),t.shareWindow(e.name,e.url)}}},[a("i",{staticClass:"iconfont",class:"icon-"+(e.icon||e.class||e.name)})])}),t._v(" "),a("span",{staticClass:"share-link link",on:{click:t.copyPageUrl}},[a("i",{staticClass:"iconfont icon-link"})])],2)])},[],!1,null,"66b44ef4",null);i.options.__file="share.vue";e.a=i.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){const a={};var n=function(t,e){return e=null==e?t.length-1:+e,function(){for(var a=Math.max(arguments.length-e,0),n=Array(a),s=0;s<a;s++)n[s]=arguments[s+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var i=Array(e+1);for(s=0;s<e;s++)i[s]=arguments[s];return i[e]=n,t.apply(this,i)}};a.now=Date.now||function(){return(new Date).getTime()},a.delay=n(function(t,e,a){return setTimeout(function(){return t.apply(null,a)},e)}),a.debounce=function(t,e,s){var i,o,r=function(e,a){i=null,a&&(o=t.apply(e,a))},l=n(function(n){if(i&&clearTimeout(i),s){var l=!i;i=setTimeout(r,e),l&&(o=t.apply(this,n))}else i=a.delay(r,e,this,n);return o});return l.cancel=function(){clearTimeout(i),i=null},l},a.throttle=function(t,e,n){var s,i,o,r,l=0;n||(n={});var c=function(){l=!1===n.leading?0:a.now(),s=null,r=t.apply(i,o),s||(i=o=null)},u=function(){var u=a.now();l||!1!==n.leading||(l=u);var d=e-(u-l);return i=this,o=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),l=u,r=t.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(c,d)),r};return u.cancel=function(){clearTimeout(s),l=0,s=i=o=null},u},t.exports=a},function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__.a=((text,tags)=>{const toFirstUpperCase=t=>t.toLowerCase().replace(/( |^)[a-z]/g,t=>t.toUpperCase()),tagNames=Object.keys(tags.reduce((t,{name:e},a)=>{const n=e.toLowerCase(),s=e.toUpperCase();return[e,n,s,toFirstUpperCase(e)].forEach(e=>{!t[e]&&(t[e]=null)}),t},{})).sort((t,e)=>t.length<e.length),tagReg=eval(`/${tagNames.join("|")}/ig`);return tagNames.includes(text)?text:text.replace(tagReg,t=>{const e=tags.find(e=>Object.is(e.name,t)||Object.is(e.name.toLowerCase(),t)||Object.is(e.name.toUpperCase(),t)||Object.is(toFirstUpperCase(e.name),t));if(!e||"#"===text[0])return t;const a=e.slug,n=`window.$nuxt.$router.push({ path: '/tag/${a}' });return false`;return`<a href="/tag/${a}" title="${e.description}" onclick="${n}">${t}</a>`})})},,,,,function(t,e,a){t.exports=a(325)},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var n={"./change-page-col.js":168};function s(t){var e=i(t);return a(e)}function i(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id=167},function(t,e,a){"use strict";a.r(e),e.default=(({route:t,store:e},a)=>{const n=["about","project","sitemap"].includes(t.name),s=["music","app","service"].includes(t.name);e.state.option.fullColumn!==n&&e.commit("option/SET_FULL_COLUMU",n),e.state.option.errorColumn!==s&&e.commit("option/SET_ERROR_COLUMU",s),a()})},function(t,e,a){"use strict";var n=a(39);a.n(n).a},function(t,e,a){"use strict";var n=a(40);a.n(n).a},,,function(t,e,a){},,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(41);a.n(n).a},function(t,e,a){"use strict";var n=a(42);a.n(n).a},function(t,e,a){"use strict";var n=a(43);a.n(n).a},function(t,e,a){"use strict";var n=a(44);a.n(n).a},function(t,e,a){"use strict";var n=a(45);a.n(n).a},function(t,e,a){"use strict";var n=a(46);a.n(n).a},function(t,e,a){"use strict";var n=a(47);a.n(n).a},function(t,e,a){"use strict";var n=a(48);a.n(n).a},,,,,,,,,,,,,,,,,,function(t,e){},function(t,e,a){"use strict";var n=a(49);a.n(n).a},function(t,e,a){"use strict";var n=a(50);a.n(n).a},function(t,e,a){"use strict";var n=a(51);a.n(n).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e,a){"use strict";var n=a(52);a.n(n).a},function(t,e,a){"use strict";var n=a(53);a.n(n).a},,function(t,e,a){"use strict";var n=a(54);a.n(n).a},function(t,e,a){"use strict";var n=a(55);a.n(n).a},function(t,e,a){"use strict";var n=a(56);a.n(n).a},function(t,e,a){"use strict";var n=a(57);a.n(n).a},function(t,e,a){"use strict";var n=a(58);a.n(n).a},function(t,e,a){"use strict";var n=a(59);a.n(n).a},function(t,e,a){"use strict";var n=a(60);a.n(n).a},function(t,e,a){"use strict";var n=a(61);a.n(n).a},function(t,e,a){"use strict";var n=a(62);a.n(n).a},function(t,e,a){var n={"./announcement.js":287,"./article.js":288,"./category.js":289,"./comment.js":290,"./index.js":326,"./option.js":291,"./project.js":292,"./sitemap.js":293,"./tag.js":294,"./wallpaper.js":295};function s(t){var e=i(t);return a(e)}function i(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id=286},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return n}),a.d(e,"mutations",function(){return s});const n=()=>({fetching:!1,data:{data:[]}}),s={REQUEST_LIST(t){t.fetching=!0},GET_LIST_FAILURE(t){t.fetching=!1,t.data={data:[]}},GET_LIST_SUCCESS(t,e){t.fetching=!1,t.data=e.result}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return n}),a.d(e,"mutations",function(){return s});const n=()=>({hot:{fetching:!1,data:{data:[]}},list:{fetching:!1,data:{data:[],pagination:{current_page:0}}},detail:{fetching:!1,data:{}}}),s={CLEAR_LIST(t){t.list.data={data:[],pagination:{current_page:0}}},REQUEST_LIST(t){t.list.fetching=!0},GET_LIST_FAILURE(t){t.list.fetching=!1},GET_LIST_SUCCESS(t,e){t.list.fetching=!1,t.list.data=e.result},ADD_LIST_SUCCESS(t,e){t.list.fetching=!1,t.list.data.data.push(...e.result.data),t.list.data.pagination=e.result.pagination},REQUEST_HOT_LIST(t){t.hot.fetching=!0},GET_HOT_LIST_FAILURE(t){t.hot.fetching=!1},GET_HOT_LIST_SUCCESS(t,e){t.hot.fetching=!1,t.hot.data=e.result},CLEAR_DETAIL(t){t.detail.data={}},REQUEST_DETAIL(t){t.detail.fetching=!0},GET_DETAIL_FAILURE(t){t.detail.fetching=!1,t.detail.data={}},GET_DETAIL_SUCCESS(t,e){t.detail.fetching=!1,t.detail.data=e.result},LIKE_ARTICLE(t,e){t.detail.data.id===e.id&&t.detail.data.meta.likes++}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return n}),a.d(e,"mutations",function(){return s});const n=()=>({fetching:!1,data:{data:[]}}),s={REQUEST_LIST(t){t.fetching=!0},GET_LIST_SUCCESS(t,e){t.fetching=!1,t.data=e.result},GET_LIST_FAILURE(t){t.fetching=!1,t.data={data:[]}}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return n}),a.d(e,"mutations",function(){return s});const n=()=>({fetching:!1,posting:!1,data:{data:[],pagination:{}}}),s={REQUEST_LIST(t){t.fetching=!0},CLEAR_LIST(t){t.data={data:[],pagination:{}}},GET_LIST_SUCCESS(t,e){t.fetching=!1,t.data=e.result},GET_LIST_FAILURE(t){t.fetching=!1,t.data={data:[],pagination:{}}},POST_ITEM(t){t.posting=!0},POST_ITEM_SUCCESS(t,e){t.posting=!1,t.data.pagination.total+=1,t.data.data.push(e.result)},POST_ITEM_FAILURE(t){t.posting=!1},LIKE_ITEM(t,e){const a=t.data.data.find(t=>t.id===e.id);a&&a.likes++}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return i}),a.d(e,"getters",function(){return o}),a.d(e,"mutations",function(){return r});var n=a(71),s=a.n(n);const i=()=>({language:s.a.default,powerSavingMode:!1,fullColumn:!1,errorColumn:!1,imgExt:"webp",mobileLayout:!1,mobileSidebar:!1,openBarrage:!1,barrageMounted:!1,openWebrtc:!1,openWallpaper:!1,userAgent:"",adminInfo:{fetching:!1,data:{}},globalOption:{fetching:!1,data:{meta:{likes:0}}}}),o={mobileLayout:t=>t.mobileLayout,langIsEn:t=>"en"===t.language},r={SET_USER_AGENT(t,e){t.userAgent=e},SET_IMG_EXT(t,e){t.imgExt=e},SET_MOBILE_LAYOUT(t,e){t.mobileLayout=e},SET_MOBILE_SIDEBAR(t,e){t.mobileSidebar=e},SET_FULL_COLUMU(t,e){t.fullColumn=e},SET_ERROR_COLUMU(t,e){t.errorColumn=e},REQUEST_ADMIN_INFO(t){t.adminInfo.fetching=!0},REQUEST_ADMIN_INFO_SUCCESS(t,e){t.adminInfo.fetching=!1,t.adminInfo.data=e.result},REQUEST_ADMIN_INFO_FAILURE(t){t.adminInfo.fetching=!1,t.adminInfo.data={}},REQUEST_GLOBAL_OPTIONS(t){t.globalOption.fetching=!0},REQUEST_GLOBAL_OPTIONS_SUCCESS(t,e){t.globalOption.fetching=!1,t.globalOption.data=e.result},REQUEST_GLOBAL_OPTIONS_FAILURE(t){t.globalOption.fetching=!1},LIKE_SITE(t,e){t.globalOption.data.meta.likes++},UPDATE_BARRAGE_STATE(t,e){t.openBarrage=void 0!==e?!!e:!t.openBarrage,t.openBarrage&&!t.barrageMounte&&(t.barrageMounted=!0)},UPDATE_WEBRTC_STATE(t,e){t.openWebrtc=void 0!==e?!!e:!t.openWebrtc},TOGGLE_POWER_SAVING_MODE(t,e){t.powerSavingMode=e},TOGGLE_WALLPAPER(t,e){t.openWallpaper=void 0!==e?!!e:!t.openWallpaper},SWITCH_LANGUAGE(t,e){t.language=e}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return n}),a.d(e,"mutations",function(){return s});const n=()=>({repositories:{fetching:!1,data:[]}}),s={REQUEST_GUTHUB_REPOSITORIES(t){t.repositories.fetching=!0},REQUEST_GUTHUB_REPOSITORIES_SUCCESS(t,e){t.repositories.fetching=!1,t.repositories.data=e.result.filter(t=>!t.description||!t.description.startsWith("#")).sort((t,e)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())},REQUEST_GUTHUB_REPOSITORIES_FAILURE(t){t.repositories.fetching=!1,t.repositories.data={}}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return s}),a.d(e,"mutations",function(){return i});var n=a(1);const s=()=>({articles:{fetching:!1,data:{data:[]}}}),i={REQUEST_ARTICLES(t){t.articles.fetching=!0},GET_ARTICLES_FAILURE(t){t.articles.fetching=!1},GET_ARTICLES_SUCCESS(t,e){t.articles.fetching=!1,t.articles.data=e.result},TOGGLE_ARTICLE_OPEN(t,e){const a=t.articles.data.data[e];a&&n.a.set(a,"open",!a.open)}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return n}),a.d(e,"mutations",function(){return s});const n=()=>({fetching:!1,data:{data:[]}}),s={REQUEST_LIST(t){t.fetching=!0},GET_LIST_FAILURE(t){t.fetching=!1,t.data={data:[]}},GET_LIST_SUCCESS(t,e){t.fetching=!1,t.data=e.result}}},function(t,e,a){"use strict";a.r(e),a.d(e,"state",function(){return n}),a.d(e,"mutations",function(){return s});const n=()=>({papers:{fetching:!1,data:null},story:{fetching:!1,data:null}}),s={REQUEST_WALLPAPERS(t){t.papers.fetching=!0},REQUEST_WALLPAPERS_SUCCESS(t,e){t.papers.fetching=!1,t.papers.data=e.result},REQUEST_WALLPAPERS_FAILURE(t){t.papers.fetching=!1,t.papers.data=null},REQUEST_STORY(t){t.story.fetching=!0},REQUEST_STORY_SUCCESS(t,e){t.story.fetching=!1,t.story.data=e.result},REQUEST_STORY_FAILURE(t){t.story.fetching=!1,t.story.data=null}}},function(t,e,a){"use strict";var n=a(63);a.n(n).a},function(t,e,a){"use strict";var n=a(64);a.n(n).a},,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(66);a.n(n).a},function(t,e,a){"use strict";var n=a(67);a.n(n).a},function(t,e,a){"use strict";var n=a(68);a.n(n).a},function(t,e,a){"use strict";var n=a(69);a.n(n).a},,,function(t,e,a){"use strict";a.r(e);var n=a(10),s=a.n(n),i=(a(5),a(1));const o=a(167),r=o.keys();function l(t){const e=o(t);return e.default||e}const c={};for(const t of r){c[t.replace(/^\.\//,"").replace(/\.(js|mjs)$/,"")]=l(t)}var u=c,d=a(134),p=a.n(d),m=a(90);const h=()=>a.e(8).then(a.bind(null,360)).then(t=>t.default||t),_=()=>a.e(14).then(a.bind(null,359)).then(t=>t.default||t),g=()=>a.e(4).then(a.bind(null,358)).then(t=>t.default||t),f=()=>a.e(13).then(a.bind(null,357)).then(t=>t.default||t),v=()=>a.e(11).then(a.bind(null,365)).then(t=>t.default||t),b=()=>a.e(3).then(a.bind(null,356)).then(t=>t.default||t),y=()=>a.e(10).then(a.bind(null,366)).then(t=>t.default||t),C=()=>a.e(12).then(a.bind(null,361)).then(t=>t.default||t),w=()=>Promise.all([a.e(0),a.e(15)]).then(a.bind(null,364)).then(t=>t.default||t),S=()=>Promise.all([a.e(0),a.e(7)]).then(a.bind(null,363)).then(t=>t.default||t),x=()=>a.e(5).then(a.bind(null,362)).then(t=>t.default||t),E=()=>Promise.all([a.e(0),a.e(6)]).then(a.bind(null,367)).then(t=>t.default||t),k=()=>Promise.all([a.e(0),a.e(9)]).then(a.bind(null,355)).then(t=>t.default||t);i.a.use(m.a);const T=function(t,e,a){return{x:0,y:0}};var $=a(135),L=a.n($).a,I={name:"nuxt-child",functional:!0,props:["keepAlive","keepAliveProps"],render(t,{parent:e,data:a,props:n}){a.nuxtChild=!0;const s=e,i=e.$nuxt.nuxt.transitions,o=e.$nuxt.nuxt.defaultTransition;let r=0;for(;e;)e.$vnode&&e.$vnode.data.nuxtChild&&r++,e=e.$parent;a.nuxtChildDepth=r;const l=i[r]||o;let c={};O.forEach(t=>{void 0!==l[t]&&(c[t]=l[t])});let u={};P.forEach(t=>{"function"==typeof l[t]&&(u[t]=l[t].bind(s))});const d=u.beforeEnter;u.beforeEnter=(t=>{if(window.$nuxt.$nextTick(()=>{window.$nuxt.$emit("triggerScroll")}),d)return d.call(s,t)});let p=[t("router-view",a)];return void 0!==n.keepAlive&&(p=[t("keep-alive",{props:n.keepAliveProps},p)]),t("transition",{props:c,on:u},p)}};const O=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],P=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"];var R={name:"nuxt-link",functional:!0,render:(t,{data:e,children:a})=>t("router-link",e,a)},U={layout:"empty",props:["error"],mounted(){this.$store.commit("option/SET_ERROR_COLUMU",!0)},beforeDestroy(){this.$store.commit("option/SET_ERROR_COLUMU",!1)}},A=(a(169),a(0)),M=Object(A.a)(U,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error"},[e("div",{staticClass:"error-content"},[e("h1",{staticClass:"error-code"},[this._v(this._s(this.error.statusCode))]),this._v(" "),this._m(0),this._v(" "),e("p",{staticClass:"error-link"},[e("nuxt-link",{staticClass:"link",attrs:{to:"/"}},[this._v("Back to the home page")])],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-wrapper-message"},[e("h2",{staticClass:"error-message"},[this._v("众里寻他 我已不再")])])}],!1,null,"4f791f43",null);M.options.__file="error.vue";var j=M.exports;const D=()=>({});function B(t,e){const a=t.options.data||D;!e&&t.options.hasAsyncData||(t.options.hasAsyncData=!0,t.options.data=function(){const n=a.call(this);return this.$ssrContext&&(e=this.$ssrContext.asyncData[t.cid]),{...n,...e}},t._Ctor&&t._Ctor.options&&(t._Ctor.options.data=t.options.data))}function F(t){return t.options&&t._Ctor===t?t:(t.options?(t._Ctor=t,t.extendOptions=t.options):(t=i.a.extend(t))._Ctor=t,!t.options.name&&t.options.__file&&(t.options.name=t.options.__file),t)}function z(t,e=!1){return Array.prototype.concat.apply([],t.matched.map((t,a)=>Object.keys(t.components).map(n=>(e&&e.push(a),t.components[n]))))}function W(t,e){return Array.prototype.concat.apply([],t.matched.map((t,a)=>Object.keys(t.components).reduce((n,s)=>(t.components[s]?n.push(e(t.components[s],t.instances[s],t,s,a)):delete t.components[s],n),[])))}function N(t){return Promise.all(W(t,function(){var t=s()(function*(t,e,a,n){return"function"!=typeof t||t.options||(t=yield t()),a.components[n]=F(t)});return function(e,a,n,s){return t.apply(this,arguments)}}()))}function G(t){return q.apply(this,arguments)}function q(){return(q=s()(function*(t){return yield N(t),{...t,meta:z(t).map(t=>t.options.meta||{})}})).apply(this,arguments)}function H(t,e){return Q.apply(this,arguments)}function Q(){return(Q=s()(function*(t,e){e.to?e.to:e.route;t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:e.payload,error:e.error,base:"/",env:{baseUrl:"https://api.qiekenol.com",HOST_URL:"https://api.qiekenol.com"}},e.req&&(t.context.req=e.req),e.res&&(t.context.res=e.res),t.context.redirect=((e,a,n)=>{if(!e)return;t.context._redirected=!0;let s=typeof a;if("number"==typeof e||"undefined"!==s&&"object"!==s||(n=a||{},s=typeof(a=e),e=302),"object"===s&&(a=t.router.resolve(a).href),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(a))throw a=function(t,e){let a,n=t.indexOf("://");-1!==n?(a=t.substring(0,n),t=t.substring(n+3)):t.startsWith("//")&&(t=t.substring(2));let s,i=t.split("/"),o=(a?a+"://":"//")+i.shift(),r=i.filter(Boolean).join("/");2===(i=r.split("#")).length&&(r=i[0],s=i[1]);o+=r?"/"+r:"",e&&"{}"!==JSON.stringify(e)&&(o+=(2===t.split("?").length?"&":"?")+function(t){return Object.keys(t).sort().map(e=>{var a=t[e];return null==a?"":Array.isArray(a)?a.slice().map(t=>[e,"=",t].join("")).join("&"):e+"="+a}).filter(Boolean).join("&")}(e));return o+=s?"#"+s:""}(a,n),window.location.replace(a),new Error("ERR_REDIRECT");t.context.next({path:a,query:n,status:e})}),t.context.nuxtState=window.__NUXT__),t.context.next=e.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!!e.isHMR,e.route&&(t.context.route=yield G(e.route)),t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{},e.from&&(t.context.from=yield G(e.from))})).apply(this,arguments)}function K(t,e){let a;return(a=2===t.length?new Promise(a=>{t(e,function(t,n){t&&e.error(t),a(n=n||{})})}):t(e))&&(a instanceof Promise||"function"==typeof a.then)||(a=Promise.resolve(a)),a}function Y(t,e){var a=window.location.pathname;return"hash"===e?window.location.hash.replace(/^#\//,""):(t&&0===a.indexOf(t)&&(a=a.slice(t.length)),(a||"/")+window.location.search+window.location.hash)}function V(t,e){return function(t){for(var e=new Array(t.length),a=0;a<t.length;a++)"object"==typeof t[a]&&(e[a]=new RegExp("^(?:"+t[a].pattern+")$"));return function(a,n){for(var s="",i=a||{},o=n||{},r=o.pretty?J:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!=typeof c){var u,d=i[c.name];if(null==d){if(c.optional){c.partial&&(s+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Array.isArray(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(u=r(d[p]),!e[l].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");s+=(0===p?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?encodeURI(d).replace(/[?#]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase()):r(d),!e[l].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');s+=c.prefix+u}}else s+=c}return s}}(function(t,e){var a,n=[],s=0,i=0,o="",r=e&&e.delimiter||"/";for(;null!=(a=X.exec(t));){var l=a[0],c=a[1],u=a.index;if(o+=t.slice(i,u),i=u+l.length,c)o+=c[1];else{var d=t[i],p=a[2],m=a[3],h=a[4],_=a[5],g=a[6],f=a[7];o&&(n.push(o),o="");var v=null!=p&&null!=d&&d!==p,b="+"===g||"*"===g,y="?"===g||"*"===g,C=a[2]||r,w=h||_;n.push({name:m||s++,prefix:p||"",delimiter:C,optional:y,repeat:b,partial:v,asterisk:!!f,pattern:w?tt(w):f?".*":"[^"+Z(C)+"]+?"})}}i<t.length&&(o+=t.substr(i));o&&n.push(o);return n}(t,e))}window.onNuxtReadyCbs=[],window.onNuxtReady=(t=>{window.onNuxtReadyCbs.push(t)});const X=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function J(t){return encodeURI(t).replace(/[\/?#]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())}function Z(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function tt(t){return t.replace(/([=!:$\/()])/g,"\\$1")}var et={name:"nuxt",props:["nuxtChildKey","keepAlive"],render(t){return this.nuxt.err?t("nuxt-error",{props:{error:this.nuxt.err}}):t("nuxt-child",{key:this.routerViewKey,props:this.$props})},beforeCreate(){i.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},computed:{routerViewKey(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||V(this.$route.matched[0].path)(this.$route.params);const t=this.$route.matched[0]&&this.$route.matched[0].components.default;return t&&t.options&&t.options.key?"function"==typeof t.options.key?t.options.key(this.$route):t.options.key:this.$route.path}},components:{NuxtChild:I,NuxtError:j}},at={name:"nuxt-loading",data:()=>({percent:0,show:!1,canSuccess:!0,throttle:200,duration:5e3,height:"2px",color:"#0088f5",failedColor:"red"}),methods:{start(){return this.canSuccess=!0,this._throttle&&clearTimeout(this._throttle),this._timer&&(clearInterval(this._timer),this._timer=null,this.percent=0),this._throttle=setTimeout(()=>{this.show=!0,this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(()=>{this.increase(this._cut*Math.random()),this.percent>95&&this.finish()},100)},this.throttle),this},set(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get(){return Math.floor(this.percent)},increase(t){return this.percent=this.percent+Math.floor(t),this},decrease(t){return this.percent=this.percent-Math.floor(t),this},finish(){return this.percent=100,this.hide(),this},pause(){return clearInterval(this._timer),this},hide(){return clearInterval(this._timer),this._timer=null,clearTimeout(this._throttle),this._throttle=null,setTimeout(()=>{this.show=!1,i.a.nextTick(()=>{setTimeout(()=>{this.percent=0},200)})},500),this},fail(){return this.canSuccess=!1,this}}},nt=(a(170),Object(A.a)(at,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"nuxt-progress",style:{width:this.percent+"%",height:this.height,"background-color":this.canSuccess?this.color:this.failedColor,opacity:this.show?1:0}})},[],!1,null,null,null));nt.options.__file="nuxt-loading.vue";var st=nt.exports,it=(a(171),a(172),a(173),a(6)),ot=a(3),rt={name:"mobile-header",data:()=>({search:!1,keyword:""}),computed:{mobileSidebar(){return this.$store.state.option.mobileSidebar}},watch:{$route(t,e){this.search=!1,this.toggleSidebar(!1)}},methods:{toSearch(){this.$router.push({name:"search-keyword",params:{keyword:this.keyword}})},toggleSidebar(t){this.$store.commit("option/SET_MOBILE_SIDEBAR",t)}}},lt=(a(192),Object(A.a)(rt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("form",{staticClass:"search",class:{actived:t.search},on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.toSearch()}}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",required:"",placeholder:t.$i18n.text.search},domProps:{value:t.keyword},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),e.preventDefault(),t.toSearch(e)):null},input:function(e){e.target.composing||(t.keyword=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticClass:"close",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.search=!1}}},[a("i",{staticClass:"iconfont icon-cancel"})])]),t._v(" "),a("nav",{staticClass:"navbar"},[a("div",{staticClass:"navbar-container"},[a("div",{staticClass:"navbar-header"},[a("a",{staticClass:"navbar-menu",attrs:{href:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleSidebar(!t.mobileSidebar)}}},[a("i",{staticClass:"iconfont icon-menu"})]),t._v(" "),a("nuxt-link",{staticClass:"navbar-logo",attrs:{to:"/"}},[a("img",{attrs:{src:"/images/logo.svg"}})]),t._v(" "),a("a",{staticClass:"navbar-search",attrs:{href:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.search=!t.search}}},[a("i",{staticClass:"iconfont icon-search"})])],1)])])])},[],!1,null,"43fc6fa9",null));lt.options.__file="header.vue";var ct=lt.exports,ut={name:"mobile-footer"},dt=(a(193),Object(A.a)(ut,function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"footer-content"},[this._v("©"+this._s((new Date).getFullYear())+"  Surmon.me")])])])},[],!1,null,"7730c31a",null));dt.options.__file="footer.vue";var pt=dt.exports,mt={name:"mobile-aside",computed:{gravatar(){const t=this.$store.state.option.adminInfo.data.gravatar;return t?`${t}?imageView2/1/w/180/h/180/interlace/1/q/75|imageslim`:`${this.cdnUrl}/images/gravatar.jpg`}}},ht=(a(194),Object(A.a)(mt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"aside"},[a("div",{staticClass:"aside-user"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.gravatar,alt:"Surmon"}})]),t._v(" "),a("div",{staticClass:"profile"},[a("h3",{staticClass:"name"},[t._v("Surmon")]),t._v(" "),a("p",{staticClass:"email",domProps:{textContent:t._s(t.$i18n.text.slogan)}},[t._v("Talk is cheap. Show me the code")])])]),t._v(" "),a("div",{staticClass:"aside-nav"},[a("nav",{staticClass:"nav-list"},[a("nuxt-link",{staticClass:"item",attrs:{to:"/",exact:""}},[a("i",{staticClass:"iconfont icon-home"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.home)}},[t._v("Home")])]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/category/code"}},[a("i",{staticClass:"iconfont icon-code"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.code)}},[t._v("Code")])]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/project"}},[a("i",{staticClass:"iconfont icon-tool"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.project)}},[t._v("Project")])]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/category/think"}},[a("i",{staticClass:"iconfont icon-think"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.think)}},[t._v("Think")])]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/sitemap"}},[a("i",{staticClass:"iconfont icon-peachblossom"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.map)}},[t._v("Sitemap")])]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/about"}},[a("i",{staticClass:"iconfont icon-user"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.about)}},[t._v("About")])]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/service"}},[a("i",{staticClass:"iconfont icon-zan"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.service)}},[t._v("Service")])]),t._v(" "),a("nuxt-link",{staticClass:"item guestbook",attrs:{to:"/guestbook"}},[a("i",{staticClass:"iconfont icon-comment"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.guestbook)}},[t._v("Guestbook")])]),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),a("nuxt-link",{staticClass:"item app",attrs:{to:"/app"}},[a("i",{staticClass:"iconfont icon-app"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.app)}},[t._v("App")])])],1)])])},[],!1,null,"d9503a62",null));ht.options.__file="aside.vue";var _t=ht.exports,gt={name:"wallpaper-switch",methods:{openWallpaper(){this.$ga.event("今日壁纸","切换","tool"),this.$store.commit("option/TOGGLE_WALLPAPER",!0)}}},ft=(a(195),Object(A.a)(gt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"wallpaper"}},[e("div",{staticClass:"wallpaper-box",on:{click:this.openWallpaper}},[this._m(0),this._v(" "),e("div",{staticClass:"down"})])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"up"},[e("span",{staticClass:"title"},[this._v("山河入梦")])])}],!1,null,"373de114",null));ft.options.__file="switch.vue";var vt=ft.exports,bt={name:"wallpaper-wall",data:()=>({index:0,classes:{}}),methods:{close(){this.$store.commit("option/TOGGLE_WALLPAPER",!1)},setPaperImageClass(t){const e=this.$refs["picture-box"],{clientWidth:a,clientHeight:n}=e,s=a/n,o=new Image;o.onload=(()=>{const{width:e,height:a}=o,n=e/a>s?"full-height":"full-width";i.a.set(this.classes,t,n)}),o.src=this.currentWallpaperUrl}},watch:{index(t){this.$nextTick(()=>{this.setPaperImageClass(t)})}},mounted(){this.setPaperImageClass(0)},computed:{wallpapers(){return this.$store.state.wallpaper.papers.data},todayStory(){return this.$store.state.wallpaper.story.data},currentWallpaper(){return this.wallpapers&&this.wallpapers.length&&this.wallpapers[this.index]},currentWallpaperUrl(){return this.currentWallpaper?this.currentWallpaper.defaultUrl:""},link(){return this.currentWallpaper.copyrightlink||null},subTitle(){return this.currentWallpaper.title||this.currentWallpaper.copyright},isToday(){return 0===this.index},canPrev(){return this.index>0},canNext(){return!!this.wallpapers&&this.index<this.wallpapers.length-1}}},yt=(a(196),Object(A.a)(bt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wallpaper-wall"}},[a("div",{staticClass:"wall-box"},[a("div",{ref:"picture-box",staticClass:"picture-box"},[a("img",{staticClass:"picture",class:t.classes[t.index],attrs:{src:t.currentWallpaperUrl,alt:t.subTitle}})]),t._v(" "),a("div",{staticClass:"story-box",class:t.classes[t.index]},[t.currentWallpaper?a("div",{staticClass:"content"},[t.isToday?a("h2",{staticClass:"title"},[t._v(t._s(t.todayStory.title))]):t._e(),t._v(" "),t.isToday?a("p",{staticClass:"subb-title"},[t._v(t._s(t.subTitle))]):a("h2",{staticClass:"title"},[t._v(t._s(t.subTitle))]),t._v(" "),t.isToday?a("p",{staticClass:"para"},[t._v(t._s(t.todayStory.para1))]):t._e(),t._v(" "),t.isToday?a("p",{staticClass:"para"},[t._v(t._s(t.todayStory.para2))]):t._e(),t._v(" "),a("div",{staticClass:"tools"},[t.isToday?a("span",{staticClass:"location"},[a("i",{staticClass:"iconfont icon-location"}),t._v(" "),a("span",[t._v(t._s(t.todayStory.attribute))]),t._v(" "),a("span",[t._v(" | ")]),t._v(" "),a("span",[t._v(t._s(t.todayStory.Continent))])]):t._e(),t._v(" "),t.link?a("a",{staticClass:"link",attrs:{href:t.link,target:"_blank",rel:"external nofollow noopenter"}},[a("i",{staticClass:"iconfont icon-link"}),t._v(" "),a("span",[t._v("相关链接")])]):t._e(),t._v(" "),a("button",{staticClass:"btn",attrs:{title:"上一幅",disabled:!t.canNext},on:{click:function(e){t.index++}}},[a("i",{staticClass:"iconfont icon-prev"})]),t._v(" "),a("button",{staticClass:"btn",attrs:{title:"下一幅",disabled:!t.canPrev},on:{click:function(e){t.index--}}},[a("i",{staticClass:"iconfont icon-next"})]),t._v(" "),a("button",{staticClass:"btn",attrs:{title:"春尽江南"},on:{click:t.close}},[a("i",{staticClass:"iconfont icon-cancel"})])])]):a("div",{staticClass:"empty"},[t._v("挂了")])])])])},[],!1,null,"b8c1a9b8",null));yt.options.__file="wall.vue";var Ct=yt.exports,wt={name:"language-psm",computed:{...Object(it.b)("option",["language","powerSavingMode"])},methods:{tooggleLanguage(){this.$ga.event("系统语言","切换","tool"),this.$store.commit("option/SWITCH_LANGUAGE",Object.is(this.language,"en")?"zh":"en")},toogglePowerSaveMode(){this.$ga.event("节能模式","切换","tool");const t=this.$store.getters["option/langIsEn"],e=t?"Canvas background, comment emoji rain, WebRTC, Theme、core socialist values":"Canvas 动态背景、留言表情雨侦测、WebRTC 视频会话、主题色系切换、社会主义价值观",a=t?`Open「 Power Saving Mode 」will close ${e}，sure?`:`开启「 Power Saving Mode 节能模式 」将会关闭 ${e} 这些功能，可能导致你无碍冲浪、流连忘返、无法自拔，还要关闭？`,n=t?`Close「 Power Saving Mode 」will open ${e}，sure?`:`关闭「 Power Saving Mode 节能模式 」将会开启 ${e} 这些功能，可能会导致死机、起火、爆炸等风险，还要开启？`;this.powerSavingMode&&confirm(n)?this.$store.commit("option/TOGGLE_POWER_SAVING_MODE",!1):confirm(a)&&this.$store.commit("option/TOGGLE_POWER_SAVING_MODE",!0)}}},St=(a(197),Object(A.a)(wt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tool-left"}},[a("div",{staticClass:"tool-box"},[a("div",{staticClass:"item language",class:t.language,attrs:{title:"Switch language"},on:{click:t.tooggleLanguage}},[t._v(t._s(t.language))]),t._v(" "),a("div",{staticClass:"item power",class:t.powerSavingMode?"on":"off",attrs:{title:"Power save mode"},on:{click:t.toogglePowerSaveMode}},[t._v(t._s(t.$i18n.text.action[t.powerSavingMode?"on":"off"]))])])])},[],!1,null,"17c46de2",null));St.options.__file="language-psm.vue";var xt=St.exports,Et={name:"background",mounted(){this.buildBackground()},computed:{...Object(it.b)("option",["powerSavingMode"])},watch:{powerSavingMode(t){t||this.$nextTick(this.buildBackground)}},methods:{buildBackground:()=>!1}},kt=(a(198),Object(A.a)(Et,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"global-background"},[e("div",{staticClass:"background-image"}),this._v(" "),this.powerSavingMode?this._e():e("div",{staticClass:"background-canvas",attrs:{id:"particles-background"}})])},[],!1,null,"5415b4ab",null));kt.options.__file="background.vue";var Tt=kt.exports,$t=a(4),Lt={name:"global-emoji-rain",computed:{emoji233333:()=>ot.a.emoji233333},methods:{buildEmojiBase(){if($t.isBrowser){const t=this.$refs.emoji;t.width=document.documentElement.clientWidth||document.body.clientWidth,t.height=document.documentElement.clientHeight||document.body.clientHeight;const e=new window.Emoji233333({base:t,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0});ot.a.emoji233333=e}}},mounted(){this.buildEmojiBase()}},It=(a(199),Object(A.a)(Lt,function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"emoji",staticClass:"global-emoji-rain",class:{active:this.emoji233333&&this.emoji233333.kichikuing}})},[],!1,null,"3983056c",null));It.options.__file="emoji-rain.vue";var Ot=It.exports,Pt=a(7),Rt=a.n(Pt),Ut=a(136);var At=a.n(Ut)()(Rt.a.socketHost,{transports:["websocket"]}),Mt={name:"barrage-item",props:{id:{type:Number},delay:{type:Number,default:10},barrage:{type:Object,required:!0}},data(){return{timers:{transform:null,playing:null},played:!1,playing:!1,styles:{"z-index":10*(this.id+1),transition:`transform ${this.delay}s linear`}}},ready(){this.startAnimation()},mounted(){this.startAnimation()},beforeDestroy(){this.timers.transform&&(clearTimeout(this.timers.transform),this.timers.transform=null),this.timers.playing&&(clearTimeout(this.timers.playing),this.timers.playing=null)},methods:{readomTop(){const t=(document.documentElement.clientHeight-63)/30;let e=this.$parent.randomPer(t)-3,a=(e=e<0?1:e)/t*100;return a=a>88?86:a,`${parseInt(a,0)}%`},startAnimation(){this.$nextTick(()=>{this.timers.transform=setTimeout(()=>{this.playing=!0,this.$set(this.styles,"top",this.readomTop())}),this.timers.playing=setTimeout(()=>{this.playing=!1,this.played=!0,this.$nextTick(()=>{this.$emit("end",this.id)})},1e3*this.delay)})}}},jt=(a(218),Object(A.a)(Mt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"barrage-item",class:["size-"+t.barrage.style.size,"color-"+t.barrage.style.color,t.playing?"playing":"",t.played?"played":""],style:t.styles},[a("span",{staticClass:"gravatar"}),t._v(" "),a("span",{staticClass:"content",domProps:{textContent:t._s(t.barrage.text)}})])},[],!1,null,"57f8132c",null));jt.options.__file="item.vue";var Dt={name:"barrage",components:{BarrageItem:jt.exports},data(){const t=["粗大","很大","大"],e=["老王绿","原谅绿","姨妈红","基佬紫","百合粉","东莞黄","李太白","木耳黑"];return{sizes:t,colors:e,socket:At,counts:{users:0,count:0},config:{delay:10,moveDelay:3},barrage:"",barrages:[],moveTimer:null,barrageLimit:0,sizeIndex:t.length-1,colorIndex:e.length-1}},computed:{currentColor(){return this.colors[this.colorIndex]},currentSize(){return this.sizes[this.sizeIndex]},barrageState(){return this.$store.state.option.openBarrage}},beforeMount(){this.socket.emit("barrage-last-list",t=>{t.forEach((t,e)=>{t.id=e+1});const e=()=>{t.length&&(this.barrages.push(t[0]),t.splice(0,1),t.length&&(this.moveTimer=setTimeout(e,100*parseInt(this.randomPer(this.config.moveDelay),0))))};e(),this.barrageLimit=t.length+2}),this.socket.emit("barrage-count",t=>{this.counts=t}),this.socket.on("barrage-update-count",t=>{this.counts=t}),this.socket.on("barrage-create",t=>{this.barrages.push(t)})},beforeDestroy(){this.moveTimer&&clearTimeout(this.moveTimer),this.clearBarrages()},methods:{sendbarrage(){const t=this.barrage.trim();if(!t)return;const e={text:t,style:{size:this.sizeIndex,color:this.colorIndex},date:(new Date).getTime()};this.socket.emit("barrage-send",e),e.id=this.barrageLimit++,this.barrages.push(e),this.counts.count+=1,this.barrage=""},transferDate:t=>new Date(t).toLocaleString(),randomPer(t=3){return e=t,(t=>(t=(9301*t+49297)%233280)/233280)((new Date).getTime())*e+Math.random();var e},clearBarrages(){this.barrages=[]},handleAnimationEnd(t){const e=this.barrages.findIndex(e=>e.id===t);e>-1&&this.barrages.splice(e,1)}}},Bt=(a(219),a(220),Object(A.a)(Dt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"global-barrage",class:{active:t.barrageState}},[a("div",{staticClass:"barrage-box"},[a("div",{ref:"barrageBox",staticClass:"list-box"},[a("ul",{staticClass:"barrages-list"},t._l(t.barrages,function(e){return a("barrage-item",{key:e.id,attrs:{id:e.id,barrage:e,delay:t.config.delay},on:{end:t.handleAnimationEnd}})}))]),t._v(" "),a("div",{staticClass:"input-box"},[a("div",{staticClass:"input-inner"},[a("div",{staticClass:"size"},[a("div",{staticClass:"active size",class:["s-"+t.sizeIndex]},[t._v(t._s(t.currentSize))]),t._v(" "),a("ul",{staticClass:"size list"},t._l(t.sizes,function(e,n){return a("li",{key:n,staticClass:"item",class:["s-"+n],on:{click:function(e){t.sizeIndex=n}}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"color"},[a("div",{staticClass:"active color",class:["color-"+t.colorIndex]},[t._v(t._s(t.currentColor))]),t._v(" "),a("ul",{staticClass:"color list"},t._l(t.colors,function(e,n){return a("li",{key:n,staticClass:"item",class:["color-"+n],on:{click:function(e){t.colorIndex=n}}},[t._v(t._s(e))])}))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.barrage,expression:"barrage"}],staticClass:"input",attrs:{type:"text",placeholder:"Let's fuck"},domProps:{value:t.barrage},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.sendbarrage(e):null},input:function(e){e.target.composing||(t.barrage=e.target.value)}}}),t._v(" "),a("div",{staticClass:"count"},[a("span",[t._v(t._s(t.counts.users)+"人")]),t._v(" "),a("span",[t._v(" | ")]),t._v(" "),a("span",[t._v(t._s(t.counts.count)+"发")])])])])])])},[],!1,null,"2d00fc14",null));Bt.options.__file="main.vue";var Ft=Bt.exports,zt=a(91),Wt=a.n(zt);Wt.a.prototype.joinRoom=function(t,e){var a=this;this.roomName=t,this.connection.emit("join",t,function(n,s){var i,o,r,l;if(n)a.emit("error",n);else for(i in s.clients)for(r in o=s.clients[i])o[r]&&(l=a.webrtc.createPeer({id:i,type:r,enableDataChannels:a.config.enableDataChannels&&"screen"!==r,receiveMedia:{offerToReceiveAudio:"screen"!==r&&a.config.receiveMedia.offerToReceiveAudio?1:0,offerToReceiveVideo:a.config.receiveMedia.offerToReceiveVideo}}),a.emit("createdPeer",l),l.start());e&&e(n,s),a.emit("joinedRoom",t)})};var Nt=Wt.a,Gt={name:"face-ctracker",data:()=>({image:null,video:null,canvas:null,canvasCTX:null,tracker:null,destroyed:!1}),props:{refId:{type:String,required:!0},width:Number,height:Number,mode:{type:Number,default:2}},methods:{initTracker(){switch(this.mode){case 1:this.buildTrackerByNative();break;case 2:this.buildTrackerByClmtrackr()}},buildTrackerByNative(){const t=this.image=new Image,{video:e,canvas:a,canvasCTX:n}=this.$data,s=this.tracker=new FaceDetector,i=this.$refs.videoCanvas,o=i.getContext("2d");e.onloadedmetadata=(()=>{setTimeout(()=>{o.clearRect(0,0,i.width,i.height),o.drawImage(e,0,0),t.onload=function(){(t=>{s.detect(t).then(t=>{}).catch(t=>{})})(t)},t.src=i.toDataURL("image/png")},2e3)})},buildTrackerByClmtrackr(){if(!window.clm)return window.alert("识别库加载失败，美不了了"),!1;const{video:t,canvas:e,canvasCTX:a}=this.$data,n=window.clm.tracker,s=this.tracker=new n({useWebGL:!0,stopOnConvergence:!0});s.init(),s.start(t);const i=["王","闭嘴！我们两个很相爱！","过来我告诉你个秘密！","惊不惊喜，意不意外！","老子无所畏惧！","我戴，我戴，行了吧！","我蝴蝶结没掉吧！","我戴，我戴，行了吧！","是我让你自由过了头！","你在和谁组队！"],o=i[Math.floor(Math.random()*i.length)],r=t=>{const e=t[33][0],n=t[33][1]-2*(t[37][1]-t[33][1]),s=t[14][0]-t[0][0];((t,e,a,n,s)=>{t.save();const i=n>s?n:s,r=n/i,l=s/i;t.scale(r,l),t.beginPath(),t.arc(e/r,a/l,i,0,2*Math.PI,!1),t.closePath(),t.restore(),t.fillStyle="green",t.fill(),t.font="1.2rem '微软雅黑'",t.fillStyle="white",t.textAlign="center",t.fillText(o,e,a)})(a,e,n,s/2,26)},l=()=>{if(this.destroyed)return;requestAnimationFrame(l),a.clearRect(0,0,t.width,t.height);const n=s.getCurrentPosition();n&&(s.draw(e),r(n))};l()}},watch:{mode(){this.tracker=null,this.initTracker()}},mounted(){this.canvas=this.$refs.canvas,this.canvasCTX=this.canvas.getContext("2d"),this.video=this.$parent.$refs[this.refId][0],this.initTracker()},beforeDestroy(){this.destroyed=!0,this.tracker.stop(),this.tracker=null,this.image=null,this.canvas=null,this.canvasCTX=null,this.video=null}},qt=(a(274),Object(A.a)(Gt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"face-ctracker"},[e("canvas",{ref:"canvas",attrs:{width:this.width,height:this.height}}),this._v(" "),1===this.mode?e("canvas",{ref:"videoCanvas",attrs:{width:this.width,height:this.height}}):this._e()])},[],!1,null,null,null));qt.options.__file="face-ctracker.vue";var Ht={name:"webrtc",components:{faceCtracker:qt.exports},data:()=>({clmtrackrLibLoading:!1,clmtrackrLoaded:!1,localStream:{ok:!0,volume:-45,peerId:null,disabledMic:!1,disabledCarema:!1,disabledBeauty:!0},remoteFilters:[],remoteBeautys:[],streams:[],filters:["normal","grayscale","sepia","hue-rotate","invert","blur"],names:["吴彦祖","王祖贤","刘恺威","奥黛丽 赫本","任达华","陈冠希","张曼玉","刘青云","甄子丹","刘德华","张学友","黎明","周润发","王杰","黄家驹","吴孟达","周星驰","鹿晗","黄子韬","李易峰","薛之谦","韩红","张柏芝","谢霆锋","成龙","梁朝伟","刘嘉玲","张家辉","梁家辉","吴镇宇","黄秋生","古天乐","余文乐"]}),methods:{getVideoElementSize:t=>0===t?{width:540,height:345}:[1,2].includes(t)?{width:400,height:345}:{width:270,height:200},toggleMute(t){t?this.webrtc.mute():this.webrtc.unmute(),this.localStream.disabledMic=t},toggleCarema(t){t?this.webrtc.pauseVideo():this.webrtc.resumeVideo(),this.localStream.disabledCarema=t},toggleBeauty(){if(window.clm&&window.clm.tracker)this.localStream.disabledBeauty=!this.localStream.disabledBeauty,this.streams.length&&this.streams[0]&&this.streams[0].local&&(this.streams[0].beauty=!this.localStream.disabledBeauty),this.localStream.peerId&&this.webrtc.connection.connection.emit("webrtc-set-beauty",{beauty:this.streams[0].beauty,peerId:this.localStream.peerId});else if(self.clmtrackrLoaded||self.clmtrackrLibLoading)alert("不是说过了！人脸识别库加载中...大概半分钟，半分钟很久吗！！!");else{const t=this;window.addLoadedTask(()=>{const e=document.createElement("script");e.onload=(()=>{t.clmtrackrLibLoading=!1,t.clmtrackrLoaded=!0,alert("人脸识别库加载成功！期待吴彦祖王祖贤的现身~")}),e.defer="defer",e.src=`${Rt.a.cdnUrl}/scripts/clmtrackr.js`,document.body.appendChild(e)}),this.clmtrackrLibLoading=!0,alert("人脸识别库加载中...大概半分钟，稍后再打开美颜~")}},getStreamByPeerId(t){return this.streams.find(e=>e.id.includes(t))},sendFilterToAll(t){this.streams.length&&this.streams[0]&&this.streams[0].local&&(this.streams[0].filter=t),this.localStream.peerId&&this.webrtc.connection.connection.emit("webrtc-set-filter",{peerId:this.localStream.peerId,filter:t})}},computed:{aligenLeft(){const t=this.streams.length;return t>3&&(t-3)%5>0}},beforeDestroy(){this.webrtc&&(this.webrtc.stopLocalVideo(),this.webrtc.leaveRoom(),this.webrtc=null),this.streams=[]},mounted(){let t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!t&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(t=navigator.mediaDevices.getUserMedia),!t)return window.alert("不支持我有什么办法"),this.$store.commit("option/UPDATE_WEBRTC_STATE",!1),!1;navigator.getUserMedia=t;const e=this,a=t=>`remote-video-${s.getDomId(t)}`,n=t=>(t<-45&&(t=-45),t>-20&&(t=-20),t),s=this.webrtc=new Nt({socketio:{},connection:{connection:At,on:At.on,disconnect:At.disconnect,getSessionid:()=>At.id,emit(){At.emit.apply(At,arguments)}},localVideoEl:"",remoteVideosEl:"",debug:!1,autoAdjustMic:!0,autoRequestMedia:!0,detectSpeakingEvents:!0,url:Rt.a.socketHost,peerConnectionConfig:{iceServers:[{urls:["stun:47.96.19.254:3478","turn:47.96.19.254:3478"],username:"surmon",credential:"surmon"}]}});s.connection.connection.on("webrtc-set-filter",t=>{const a=t.peerId,n=t.filter,s=e.getStreamByPeerId(a);s&&(s.filter=n)}),s.connection.connection.on("webrtc-set-beauty",t=>{const a=t.peerId,n=t.beauty,s=e.getStreamByPeerId(a);s&&(s.beauty=n)}),s.connection.connection.emit("webrtc-filters",t=>{this.remoteFilters=t}),s.connection.connection.emit("webrtc-beautys",t=>{this.remoteBeautys=t}),s.on("connectionReady",t=>{e.localStream.peerId=t}),s.on("readyToCall",()=>{s.joinRoom("surmon.me")}),s.on("localStream",t=>{e.localStream.ok=!0,e.streams.unshift({local:!0,filter:0,beauty:!1,id:"localVideo",ref:"localVideo",src:URL.createObjectURL(t)}),s.connection.connection.connected&&s.connection.connection.id&&(e.localStream.peerId=s.connection.connection.id,s.sessionReady=!0,s.testReadiness())}),s.on("localMediaError",t=>{window.alert("切"),e.$store.commit("option/UPDATE_WEBRTC_STATE",!1)}),s.on("videoAdded",(t,n)=>{const s=e.remoteFilters[n.id],i=e.remoteBeautys[n.id],o=a(n),r=e.names,l={id:o,ref:o,state:0,volume:0,filter:s||0,beauty:i||!1,disabledMic:!1,disabledCarema:!1,src:URL.createObjectURL(n.stream),name:r[Math.floor(Math.random()*r.length)]};n&&n.pc&&n.pc.on("iceConnectionStateChange",t=>{const a=e.getStreamByPeerId(n.id);if(a)switch(n.pc.iceConnectionState){case"checking":a.state=1;break;case"connected":case"completed":a.state=2;break;case"disconnected":a.state=3;break;case"failed":a.state=-1;break;case"closed":a.state=4}}),e.streams.push(l)}),s.on("videoRemoved",(t,n)=>{const s=a(n),i=e.streams.findIndex(t=>t.id===s);i>-1&&e.streams.splice(i,1)}),s.on("iceFailed",t=>{e.localStream.ok=!1}),s.on("connectivityError",t=>{const a=e.getStreamByPeerId(t.id);a&&(a.state=-1)}),s.on("volumeChange",(t,a)=>{"-Infinity"!==String(t)&&(e.localStream.volume=n(t))}),s.on("remoteVolumeChange",(t,a)=>{if("-Infinity"!==String(a)){const s=e.getStreamByPeerId(t.id);s&&(s.volume=n(a))}}),s.on("mute",t=>{s.getPeers(t.id).forEach(a=>{const n=e.getStreamByPeerId(a.id);n&&("audio"===t.name?n.disabledMic=!0:"video"===t.name&&(n.disabledCarema=!0))})}),s.on("unmute",t=>{s.getPeers(t.id).forEach(a=>{const n=e.getStreamByPeerId(a.id);n&&("audio"===t.name?n.disabledMic=!1:"video"===t.name&&(n.disabledCarema=!1))})})}},Qt=(a(275),Object(A.a)(Ht,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"global-webrtc"}},[a("div",{staticClass:"webrtc-box",class:[t.aligenLeft?"aligenLeft":""]},t._l(t.streams,function(e,n){return a("div",{key:n,staticClass:"stream-box",class:[e.local?"local":"remote"]},[a("div",{staticClass:"empty-msg"},[e.local?a("span",{staticClass:"text"},[t.localStream.ok?a("span",[t._v("Long time no see.")]):a("span",[t._v("Ice 失败")])]):a("span",{staticClass:"text"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"content-box",class:"filter-"+t.filters[e.filter]},[a("video",{ref:e.id,refInFor:!0,attrs:{autoplay:"",playsinline:"",preload:"auto",id:e.id,src:e.src,width:t.getVideoElementSize(n).width,height:t.getVideoElementSize(n).height}}),t._v(" "),!t.localStream.disabledCarema&&e.beauty?a("face-ctracker",{staticClass:"face-mask",attrs:{"ref-id":e.id,width:t.getVideoElementSize(n).width,height:t.getVideoElementSize(n).height}}):t._e()],1),t._v(" "),e.local?t._e():a("div",{staticClass:"name"},[a("span",[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"state"},[0===e.state?a("span",[t._v("正在赶来的路上")]):1===e.state?a("span",[t._v("连接中")]):2===e.state?a("span",[t._v("连接成功")]):3===e.state?a("span",[t._v("失败")]):4===e.state?a("span",[t._v("已离开")]):-1===e.state?a("span",[t._v("各种失败，来不了了")]):t._e()])]),t._v(" "),a("meter",{staticClass:"volume",attrs:{min:"-45",max:"-20",high:"-25",low:"-40",value:e.local?t.localStream.volume:e.volume}}),t._v(" "),e.local?a("div",{staticClass:"tools"},[a("button",{staticClass:"video",class:{active:!t.localStream.disabledCarema},on:{click:function(e){t.toggleCarema(!t.localStream.disabledCarema)}}},[a("i",{staticClass:"iconfont",class:[t.localStream.disabledCarema?"icon-carema-disabled":"icon-carema"]})]),t._v(" "),a("button",{staticClass:"audio",class:{active:!t.localStream.disabledMic},on:{click:function(e){t.toggleMute(!t.localStream.disabledMic)}}},[a("i",{staticClass:"iconfont",class:[t.localStream.disabledMic?"icon-mic-disabled":"icon-mic"]})]),t._v(" "),a("button",{staticClass:"beauty",class:{active:!t.localStream.disabledBeauty},on:{click:function(e){t.toggleBeauty()}}},[a("i",{staticClass:"iconfont icon-meiyan"}),t._v(" "),a("span",[t._v("美颜")])]),t._v(" "),a("div",{staticClass:"filter",class:{active:0!==e.filter}},[a("span",{staticClass:"current"},[a("i",{staticClass:"iconfont icon-filter"}),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.filters[e.filter]))])]),t._v(" "),a("ul",{staticClass:"filter-list"},t._l(t.filters,function(e,n){return a("li",{key:n,staticClass:"item",on:{click:function(e){t.sendFilterToAll(n)}}},[a("span",[t._v(t._s(e))])])}))])]):a("div",{staticClass:"tools"},[a("button",{staticClass:"video",class:{active:!e.disabledCarema},attrs:{disabled:""}},[a("i",{staticClass:"iconfont",class:[e.disabledCarema?"icon-carema-disabled":"icon-carema"]})]),t._v(" "),a("button",{staticClass:"audio",class:{active:!e.disabledMic},attrs:{disabled:""}},[a("i",{staticClass:"iconfont",class:[e.disabledMic?"icon-mic-disabled":"icon-mic"]})]),t._v(" "),a("button",{staticClass:"beauty",class:{active:e.beauty},attrs:{disabled:""}},[a("i",{staticClass:"iconfont icon-meiyan"})]),t._v(" "),a("span",{staticClass:"filter"},[a("span",{staticClass:"current"},[a("i",{staticClass:"iconfont icon-filter"}),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.filters[e.filter]))])])])])])}))])},[],!1,null,"01c453f7",null));Qt.options.__file="main.vue";var Kt=Qt.exports,Yt=a(137),Vt=a.n(Yt),Xt=a(11),Jt={name:"tool-box",data:()=>({topBtnMouseOver:!1,bottomBtnMouseOver:!1,toggleWebrtcFn:null,firstOpenWeRtc:!0,animationFrameId:null}),computed:{...Object(it.b)("option",{language:"language",webrtcState:"openWebrtc",barrageState:"openBarrage",powerSavingMode:"powerSavingMode"})},methods:{totop(){Object(Xt.b)("body",300,{easing:Xt.a["ease-in"]})},toBottom(){Object(Xt.b)(window.scrollY+window.innerHeight,300,{easing:Xt.a["ease-in"]})},setButtonState(t,e,a){this["bottom"===t?"bottomBtnMouseOver":"topBtnMouseOver"]=e,window.cancelAnimationFrame(this.animationFrameId),a&&this.slowMoveToAnyWhere()},slowMoveToAnyWhere(){const t=()=>{let e=window.scrollY;const a=document.body.scrollHeight-window.innerHeight;return this.bottomBtnMouseOver&&(e+=1),this.topBtnMouseOver&&(e-=1),e<0?e=0:e>=a&&(e=a),e>0&&e<a&&(window.scrollTo(0,e),this.bottomBtnMouseOver||this.topBtnMouseOver?void(this.animationFrameId=window.requestAnimationFrame(t)):(window.cancelAnimationFrame(this.animationFrameId),!1))};this.animationFrameId=window.requestAnimationFrame(t)},toggleBarrage(){this.$ga.event("弹幕功能","切换","tool"),this.$store.commit("option/UPDATE_BARRAGE_STATE")},toggleWebrtc(){this.$ga.event("WebRTC","切换","tool");const t=this.$store.getters["option/langIsEn"];if(this.firstOpenWeRtc&&!this.webrtcState){const e=t?"Will open WebRTC、WebGL、Canvas, ready?":"实验室功能需要 WebRTC、WebGL、Canvas 等技术的支持，可能占用较多 CPU/GPU 资源，甚至死机、起火、爆炸、毁灭，继续？";if(!window.confirm(e))return this.$store.commit("option/UPDATE_WEBRTC_STATE",!1),window.alert(t?"Sorry~":"滚滚滚"),!1;this.firstOpenWeRtc=!1}this.toggleWebrtcFn?this.toggleWebrtcFn():(this.toggleWebrtcFn=Vt.a.throttle(()=>{this.$store.commit("option/UPDATE_WEBRTC_STATE")},1666),this.toggleWebrtcFn())}}},Zt=(a(277),Object(A.a)(Jt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tools"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"tools-list"},[a("button",{staticClass:"webrtc",class:{active:t.webrtcState,close:t.barrageState},attrs:{title:t.$i18n.text.webrtc,disabled:t.barrageState||t.powerSavingMode},on:{click:t.toggleWebrtc}},[a("i",{staticClass:"iconfont icon-webrtc"})]),t._v(" "),a("button",{staticClass:"barrage",class:{active:t.barrageState,close:t.webrtcState},attrs:{title:t.$i18n.text.barrage.name,disabled:t.webrtcState},on:{click:t.toggleBarrage}},[a("i",{staticClass:"iconfont icon-barrage"})]),t._v(" "),a("a",{staticClass:"feedback",attrs:{title:t.$i18n.text.feedback,href:"mailto:surmon@foxmail.com",target:"_blank"}},[a("i",{staticClass:"iconfont icon-mail"})]),t._v(" "),a("button",{staticClass:"to-top",attrs:{title:t.$i18n.text.totop},on:{click:t.totop,mouseover:function(e){t.setButtonState("top",!0,!0)},mouseleave:function(e){t.setButtonState("top",!1)}}},[a("i",{staticClass:"iconfont icon-totop"})]),t._v(" "),a("button",{staticClass:"to-bottom",attrs:{title:t.$i18n.text.tobottom},on:{click:t.toBottom,mouseover:function(e){t.setButtonState("bottom",!0,!0)},mouseleave:function(e){t.setButtonState("bottom",!1)}}},[a("i",{staticClass:"iconfont icon-tobottom"})])])])])},[],!1,null,"20778cf8",null));Zt.options.__file="tool-box.vue";var te=Zt.exports,ee={name:"layout-header",data:()=>({preload:!1}),mounted(){$t.isBrowser&&window.addLoadedTask(()=>{this.preload=!0})},computed:{player:()=>ot.a.player.player,playerState:()=>ot.a.player.playerState,currentSong:()=>ot.a.currentSong,currentSongPicUrl:()=>ot.a.currentSongPicUrl},methods:{togglePlay(){this.playerState.ready&&this.player.togglePlay()},toggleMuted(){this.playerState.ready&&this.player.toggleMuted()},prevSong(){this.playerState.ready&&this.player.prevSong()},nextSong(){this.playerState.ready&&this.player.nextSong()}}},ae=(a(278),Object(A.a)(ee,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("nav",{staticClass:"navbar"},[a("div",{staticClass:"navbar-container container"},[a("div",{staticClass:"navbar-header"},[a("span",{staticClass:"navbar-blank"}),t._v(" "),a("img",{staticClass:"navbar-logo",attrs:{src:"/images/logo.svg"}}),t._v(" "),a("span",{staticClass:"navbar-slogan",domProps:{textContent:t._s(t.$i18n.text.slogan)}}),t._v(" "),a("nuxt-link",{staticClass:"navbar-link",attrs:{to:"/",title:t.$i18n.text.slogan}})],1),t._v(" "),a("div",{staticClass:"navbar-player"},[a("div",{staticClass:"panel"},[a("button",{staticClass:"prev-song btn",attrs:{disabled:!t.playerState.ready},on:{click:t.prevSong}},[a("i",{staticClass:"iconfont icon-music-prev"})]),t._v(" "),a("button",{staticClass:"toggle-play btn",attrs:{disabled:!t.playerState.ready},on:{click:t.togglePlay}},[a("i",{staticClass:"iconfont",class:[t.playerState.playing?"icon-music-pause":"icon-music-play"]})]),t._v(" "),a("button",{staticClass:"next-song btn",attrs:{disabled:!t.playerState.ready},on:{click:t.nextSong}},[a("i",{staticClass:"iconfont icon-music-next"})]),t._v(" "),a("button",{staticClass:"muted-toggle btn",attrs:{disabled:!t.playerState.ready},on:{click:t.toggleMuted}},[a("i",{staticClass:"iconfont",class:[t.playerState.muted?"icon-music-muted":"icon-music-volume"]})])]),t._v(" "),t.currentSong?a("div",{staticClass:"song"},[a("nuxt-link",{staticClass:"link",attrs:{to:"/music",title:t.currentSong.name+" / "+(t.currentSong.album.name||"unknow")}},[a("span",[t._v(t._s(t.currentSong.name))]),t._v(" "),a("span",[t._v(" By ")]),t._v(" "),t._l(t.currentSong.artists,function(e,n){return a("span",{key:n},[t._v(t._s(e.name))])}),t._v(" "),a("span",[t._v(" / ")]),t._v(" "),a("span",[t._v(t._s(t.currentSong.album.name||"unknow"))])],2)],1):a("div",{staticClass:"song"},[t._v(t._s(t.$i18n.text.music.empty))])])]),t._v(" "),a("div",{staticClass:"pre-load"},[t.preload?a("img",{attrs:{src:t.currentSongPicUrl,alt:"song-thumb"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/shang.jpg",alt:"shang"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/app-hot.png",alt:"app-download"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/app-logo.png",alt:"app-logo"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/service.jpg",alt:"service"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/about-background-be-1.jpg",alt:"background"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/about-background-be-2.jpg",alt:"background"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/about-background-star-1.png",alt:"background"}}):t._e(),t._v(" "),t.preload?a("img",{attrs:{src:"/images/about-background-star-2.png",alt:"background"}}):t._e()])])])},[],!1,null,"6e6f818e",null));ae.options.__file="header.vue";var ne=ae.exports,se={name:"layout-footer",computed:{languageIsEn(){return this.$store.getters["option/langIsEn"]}}},ie=(a(279),Object(A.a)(se,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container"},[a("div",{staticClass:"footer-content"},[a("a",{staticClass:"sitemap-btn",attrs:{href:"/sitemap.xml",target:"_blank"},domProps:{textContent:t._s(t.$i18n.nav.map)}},[t._v("SITEMAP.XML")]),t._v(" "),a("span",[t._v("  |  ")]),t._v(" "),t.languageIsEn?a("span",[a("span",[t._v("Powered By ")]),t._v(" "),a("nuxt-link",{attrs:{to:"/project"}},[t._v("NodePress")]),t._v(" "),a("span",[t._v("、")]),t._v(" "),a("nuxt-link",{attrs:{to:"/project"}},[t._v("Nuxt.js")]),t._v(" "),a("span",[t._v(" and solitarily. ")]),t._v(" "),a("span",[t._v("  Designed By ")]),t._v(" "),a("nuxt-link",{attrs:{to:"/about"}},[t._v("Me")])],1):a("span",[a("span",[t._v("由 ")]),t._v(" "),a("nuxt-link",{attrs:{to:"/project"}},[t._v("NodePress")]),t._v(" "),a("span",[t._v("、")]),t._v(" "),a("nuxt-link",{attrs:{to:"/project"}},[t._v("Nuxt.js")]),t._v(" "),a("span",[t._v(" 和日月星辰 强力驱动 ")]),t._v(" "),a("span",[t._v("  |  ")]),t._v(" "),a("nuxt-link",{attrs:{to:"/about"}},[t._v("吾之臂躯")]),t._v(" "),a("span",[t._v(" 行针步线")])],1)])])])},[],!1,null,"24da6539",null));ie.options.__file="footer.vue";var oe=ie.exports,re=a(94),le={name:"aside-calendar",data:()=>({currentDay:1,currentMonth:1,currentYear:1970,currentWeek:1,days:[],weeksZh:["一","二","三","四","五","六","七"],weeksEn:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]}),mounted(){this.initData(null)},computed:{languageIsEn(){return this.$store.getters["option/langIsEn"]}},methods:{initData(t){const e=t?new Date(t):new Date;this.currentDay=e.getDate(),this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth()+1,this.currentWeek=e.getDay(),0==this.currentWeek&&(this.currentWeek=7);const a=this.formatDate(this.currentYear,this.currentMonth,this.currentDay);this.days.length=0;for(let t=this.currentWeek-1;t>=0;t--){const e=new Date(a);e.setDate(e.getDate()-t),this.days.push(e)}for(let t=1;t<=35-this.currentWeek;t++){const e=new Date(a);e.setDate(e.getDate()+t),this.days.push(e)}},pick(t){alert(this.formatDate(t.getFullYear(),t.getMonth()+1,t.getDate()))},pickPre(t,e){const a=new Date(this.formatDate(t,e,1));a.setDate(0),this.initData(this.formatDate(a.getFullYear(),a.getMonth()+1,1))},pickNext(t,e){const a=new Date(this.formatDate(t,e,1));a.setDate(35),this.initData(this.formatDate(a.getFullYear(),a.getMonth()+1,1))},pickYear(t,e){alert(t+","+e)},formatDate(t,e,a){let n=e;n<10&&(n="0"+n);let s=a;return s<10&&(s="0"+s),t+"-"+n+"-"+s}}},ce=(a(281),Object(A.a)(le,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar-box"},[a("div",{staticClass:"months"},[a("ul",{staticClass:"month-list"},[a("li",{staticClass:"arrow prev",on:{click:function(e){t.pickPre(t.currentYear,t.currentMonth)}}},[t._v("❮")]),t._v(" "),a("li",{staticClass:"year-month"},[a("span",{staticClass:"choose-year"},[a("span",[t._v(t._s(t.currentYear))]),t._v(" "),a("span",[t._v(t._s(t.languageIsEn?"Y":"年")+" ")]),t._v(" "),a("span",[t._v(t._s(t.currentMonth))]),t._v(" "),a("span",[t._v(t._s(t.languageIsEn?"M":"月")+" ")]),t._v(" "),a("span",[t._v(t._s(t.currentDay))]),t._v(" "),a("span",[t._v(t._s(t.languageIsEn?"D":"日"))])])]),t._v(" "),a("li",{staticClass:"arrow next",on:{click:function(e){t.pickNext(t.currentYear,t.currentMonth)}}},[t._v("❯")])])]),t._v(" "),t.languageIsEn?a("ul",{staticClass:"weekdays"},t._l(t.weeksEn,function(e,n){return a("li",{key:n},[t._v(t._s(e))])})):a("ul",{staticClass:"weekdays"},t._l(t.weeksZh,function(e,n){return a("li",{key:n},[t._v(t._s(e))])})),t._v(" "),a("ul",{staticClass:"days"},[t.days.length?t._e():a("loading-box",{staticClass:"loading-box"}),t._v(" "),t._l(t.days,function(e,n){return a("li",{key:n},[e.getMonth()+1!=t.currentMonth?a("span",{staticClass:"other-month"},[t._v(t._s(e.getDate()))]):a("span",{staticClass:"item",class:{active:e.getFullYear()==(new Date).getFullYear()&&e.getMonth()==(new Date).getMonth()&&e.getDate()==(new Date).getDate()}},[a("nuxt-link",{attrs:{to:"/date/"+t.formatDate(e.getFullYear(),e.getMonth()+1,e.getDate())}},[t._v(t._s(e.getDate()))])],1)])})],2)])},[],!1,null,"053e6e96",null));ce.options.__file="calendar.vue";var ue={name:"layout-aside",data:()=>({keyword:"",fixedMode:{fixed:!1,element:null,sidebarFixedOffsetTop:0}}),components:{Calendar:ce.exports},mounted(){Object.is(this.$route.name,"search-keyword")&&(this.keyword=this.$route.params.keyword)},computed:{...Object(it.b)({tag:t=>t.tag,article:t=>t.article.hot,language:t=>t.option.language}),isArticlePage(){return"article-article_id"===this.$route.name}},methods:{toSearch(){const t=this.keyword,e=this.$route.params.keyword,a=Object.is(this.$route.name,"search-keyword");!t||a&&Object.is(e,t)||this.$router.push({name:"search-keyword",params:{keyword:t}})},setFullColumu(){this.$store.commit("option/SET_ERROR_COLUMU",!0)},fullScreen(){this.setFullColumu();const t=document.documentElement,e=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen;e&&e.bind(t)()},parseScroll(){const t=this.fixedMode.element,e=this.fixedMode.sidebarFixedOffsetTop,a=document.documentElement.scrollTop||window.pageYOffset||window.scrollY||document.body.scrollTop,n=t.offsetTop;this.fixedMode.sidebarFixedOffsetTop=n!==e&&77!==n?n:e;const s=a>e;this.fixedMode.fixed=s&&t}},directives:{scrollTop:{inserted(t,e,a){const n=a.context;n.fixedMode.element=t,n.fixedMode.sidebarFixedOffsetTop=t.offsetTop,n.parseScroll(),window.addEventListener("scroll",n.parseScroll,{passive:!0})},unbind(t,e,a){window.removeEventListener("scroll",a.context.parseScroll)}}}},de=(a(282),Object(A.a)(ue,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"aside"},[a("div",{staticClass:"aside-search"},[a("div",{staticClass:"search-box"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"search-input",class:t.language,attrs:{id:"keyword",required:"",list:"keywords",type:"search",name:"search",placeholder:t.$i18n.text.search},domProps:{value:t.keyword},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.toSearch(e):null},input:function(e){e.target.composing||(t.keyword=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("button",{staticClass:"search-btn",on:{click:t.toSearch}},[a("i",{staticClass:"iconfont icon-search"})]),t._v(" "),a("nuxt-link",{staticClass:"sitemap-btn",attrs:{to:"/sitemap"}},[a("i",{staticClass:"iconfont icon-sitemap"})])],1)]),t._v(" "),a("div",{staticClass:"aside-article"},[a("p",{staticClass:"title"},[a("i",{staticClass:"iconfont icon-hotfill"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.text.article.hotlist)}},[t._v("热门文章")])]),t._v(" "),t.article.fetching||t.article.data.data.length?!t.article.fetching&&t.article.data.data.length?a("ul",{staticClass:"aside-article-list"},t._l(t.article.data.data.slice(0,10),function(e){return a("li",{key:e.id,staticClass:"item"},[a("span",{staticClass:"index"}),t._v(" "),a("nuxt-link",{staticClass:"title",attrs:{to:"/article/"+e.id,title:e.title+" - 「 "+e.meta.comments+" "+t.$i18n.text.comment.count+" | "+e.meta.likes+" "+t.$i18n.text.comment.like+" 」"}},[a("span",[t._v(t._s(e.title))])])],1)})):t._e():a("empty-box",[t._t("default",[t._v(t._s(t.$i18n.text.article.empty||"No Result Hot Articles."))])],2)],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"aside-calendar"},[a("calendar")],1),t._v(" "),a("div",{directives:[{name:"scroll-top",rawName:"v-scroll-top"}],staticClass:"aside-fixed-box",class:{fixed:t.fixedMode.fixed}},[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.fixedMode.fixed,expression:"fixedMode.fixed"}],staticClass:"aside-ad"},[a("a",{staticClass:"ad-box",attrs:{href:"https://s.click.taobao.com/6JBRDTw",rel:"external nofollow noopener",target:"_blank"}},[a("img",{attrs:{src:"/images/mammon/aliyun-300-100.jpg",alt:"aliyun-ad"}})])])]),t._v(" "),a("div",{staticClass:"aside-tag"},[t.tag.fetching||t.tag.data.data.length?!t.tag.fetching&&t.tag.data.data.length?a("ul",{staticClass:"aside-tag-list"},t._l(t.tag.data.data,function(e,n){return a("nuxt-link",{key:n,staticClass:"item",attrs:{tag:"li",to:"/tag/"+e.slug}},[a("a",{staticClass:"title",attrs:{title:e.description}},[e.extends.find(function(t){return Object.is(t.name,"icon")})?a("i",{staticClass:"iconfont",class:[e.extends.find(function(t){return Object.is(t.name,"icon")}).value]}):t._e(),t._v(" "),a("span",[t._v(t._s(e.name))]),t._v(" "),a("span",[t._v("("+t._s(e.count||0)+")")])])])})):t._e():a("empty-box",[t._t("default",[t._v(t._s(t.$i18n.text.tag.empty||"No Result Tags."))])],2)],1),t._v(" "),t.isArticlePage?a("div",{staticClass:"aside-tools"},[a("div",{staticClass:"full-column",on:{click:t.setFullColumu}},[a("span",{domProps:{textContent:t._s(t.$i18n.text.article.fullcolread)}},[t._v("通栏阅读")]),t._v(" "),a("span",[t._v("  ")]),t._v(" "),a("i",{staticClass:"iconfont icon-read"})]),t._v(" "),a("div",{staticClass:"full-page",on:{click:t.fullScreen}},[a("span",{domProps:{textContent:t._s(t.$i18n.text.article.fullscreenread)}},[t._v("全屏阅读")]),t._v(" "),a("span",[t._v("  ")]),t._v(" "),a("i",{staticClass:"iconfont icon-fullscreen"})])]):t._e()],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"aside-ad"},[e("a",{staticClass:"ad-box",attrs:{href:"https://s.click.taobao.com/6JBRDTw",rel:"external nofollow noopener",target:"_blank"}},[e("img",{attrs:{src:"/images/mammon/aliyun-300-100.jpg",alt:"aliyun-ad"}})])])}],!1,null,"29bbf08e",null));de.options.__file="aside.vue";var pe=de.exports,me={name:"theme",data:()=>({theme:0,themes:{default:"#0088f5",beige:"#bfbf9b",gay:"purple",wang:"green",red:"red",dark:"black"}}),methods:{setTheme(t){this.theme=t,this.$emit("theme",t),this.$ga.event("多色主题","切换","tool")},computedStyle:t=>({})}},he=(a(283),Object(A.a)(me,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"theme"}},[a("div",{staticClass:"theme-box"},[a("div",{staticClass:"active-theme",class:t.themes[t.theme]}),t._v(" "),a("ul",{staticClass:"theme-list"},t._l(t.themes,function(e,n){return a("li",{key:n,staticClass:"item",class:n,style:t.computedStyle(n),on:{click:function(e){t.setTheme(n)}}})}))])])},[],!1,null,"316382a0",null));he.options.__file="theme.vue";var _e=he.exports,ge={name:"layout-nav"},fe=(a(284),Object(A.a)(ge,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aside-nav"},[a("nav",{staticClass:"nav-list"},[a("nuxt-link",{staticClass:"item",attrs:{to:"/",exact:""}},[a("i",{staticClass:"iconfont icon-home"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.home)}})]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/category/code"}},[a("i",{staticClass:"iconfont icon-code"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.code)}})]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/project"}},[a("i",{staticClass:"iconfont icon-tool"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.project)}})]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/category/think"}},[a("i",{staticClass:"iconfont icon-think"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.think)}})]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/music"}},[a("i",{staticClass:"iconfont icon-netease-music"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.music)}})]),t._v(" "),t._e(),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/about"}},[a("i",{staticClass:"iconfont icon-user"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.about)}})]),t._v(" "),a("nuxt-link",{staticClass:"item",attrs:{to:"/service"}},[a("i",{staticClass:"iconfont icon-zan"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.service)}}),t._v(" "),a("span",{staticClass:"superscript"},[a("i",{staticClass:"iconfont icon-hot"})])]),t._v(" "),a("nuxt-link",{staticClass:"item guestbook",attrs:{to:"/guestbook"}},[a("i",{staticClass:"iconfont icon-comment"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.guestbook)}})]),t._v(" "),a("a",{staticClass:"item ad taobao",attrs:{href:"https://s.click.taobao.com/vkjaBYw",rel:"external nofollow noopener",target:"_blank"}},[a("i",{staticClass:"iconfont icon-taobao"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.taobao)}})]),t._v(" "),a("a",{staticClass:"item ad aliyun",attrs:{href:"https://s.click.taobao.com/gflYBYw",rel:"external nofollow noopener",target:"_blank"}},[a("i",{staticClass:"iconfont icon-aliyun"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.aliyun)}})]),t._v(" "),t._m(0),t._v(" "),a("nuxt-link",{staticClass:"item app",attrs:{to:"/app"}},[a("i",{staticClass:"iconfont icon-app"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.nav.app)}})])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"item ad errend",attrs:{href:"https://errend.io",rel:"external nofollow noopener",target:"_blank"}},[e("i",{staticClass:"iconfont icon-debug"}),this._v(" "),e("span",[this._v("Errend.io")])])}],!1,null,"f2a53992",null));fe.options.__file="nav.vue";var ve=fe.exports,be={name:"app",head(){return this.mobileLayout?{bodyAttrs:{class:"mobile"}}:{}},data:()=>({theme:"default",clipboardText:""}),mounted(){this.watchTabActive(),this.mobileLayout||(this.$store.dispatch("loadWallpapers"),this.$store.dispatch("loadWallpaperStory"),this.$store.dispatch("loadMuiscPlayerList")),this.$root.$eventBus=ot.a,this.$root.$copyToClipboard=this.copyToClipboard},components:{Webrtc:Kt,Barrage:Ft,ToolBox:te,EmojoRain:Ot,LanguagePsm:xt,WallpaperWall:Ct,WallpaperSwitch:vt,Background:Tt,HeaderView:ne,FooterView:oe,AsideView:pe,ShareView:re.a,ThemeView:_e,NavView:ve,MobileHeader:ct,MobileFooter:pt,MobileAside:_t},computed:{...Object(it.b)("option",["openWebrtc","openWallpaper","powerSavingMode","barrageMounted","fullColumn","errorColumn","mobileLayout","mobileSidebar"]),mobileSidebarOpenClass(){return{open:this.mobileSidebar}},isPcAndNotPsm(){return!this.mobileLayout&&!this.powerSavingMode},isNotServicePage(){return"service"!==this.$route.name},isNotFullColPage(){return!["app","music","service"].includes(this.$route.name)}},methods:{setTheme(t){this.theme=t},copyToClipboard(t){this.clipboardText=t,window.clickCopy=!0,setTimeout(()=>{this.$refs.clipboard.select(),document.execCommand("Copy"),window.clickCopy=!1})},closeMobileSidebar(){this.mobileLayout&&this.$store.commit("option/SET_MOBILE_SIDEBAR",!1)},watchTabActive(){let t;document.addEventListener("visibilitychange",e=>{e.target.hidden||e.target.webkitHidden?(t=document.title,document.title="皮皮虾，快回来！"):document.title=t},!1)},watchFullScreen(){const t=t=>{};document.addEventListener("fullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("msfullscreenchange",t,!1)}}},ye=(a(285),Object(A.a)(be,function(){var t,e,a=this,n=a.$createElement,s=a._self._c||n;return s("div",{class:a.theme,attrs:{id:"app"}},[s("div",{attrs:{id:"app-tools"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.clipboardText,expression:"clipboardText"}],ref:"clipboard",staticClass:"clipboard-input",attrs:{type:"text"},domProps:{value:a.clipboardText},on:{input:function(t){t.target.composing||(a.clipboardText=t.target.value)}}})]),a._v(" "),a.mobileLayout?s("div",{class:a.mobileSidebarOpenClass,attrs:{id:"app-aside"}},[s("mobile-aside",{class:a.mobileSidebarOpenClass})],1):a._e(),a._v(" "),s("div",{class:a.mobileSidebarOpenClass,attrs:{id:"app-main"},on:{click:a.closeMobileSidebar}},[a.mobileLayout?s("mobile-header"):s("header-view"),a._v(" "),a.mobileLayout?a._e():[s("background"),a._v(" "),a.barrageMounted?s("barrage",{}):a._e(),a._v(" "),a.powerSavingMode?a._e():s("wall-flower-box"),a._v(" "),s("transition",{attrs:{name:"fade"}},[a.openWallpaper?s("wallpaper-wall",{}):a._e()],1),a._v(" "),s("transition",{attrs:{name:"fade"}},[!a.powerSavingMode&&a.openWebrtc?s("webrtc",{}):a._e()],1)],a._v(" "),a.powerSavingMode?a._e():s("emojo-rain"),a._v(" "),s("main",{class:(t={mobile:a.mobileLayout},t[a.$route.name]=!0,t),attrs:{id:"main"}},[s("transition",{attrs:{name:"module"}},[a.errorColumn||a.mobileLayout?a._e():s("nav-view",{attrs:{"keep-alive":""}})],1),a._v(" "),s("div",{staticClass:"main-content",class:(e={"full-column":a.fullColumn,"error-column":a.errorColumn,"mobile-layout":a.mobileLayout},e[a.$route.name]=!0,e),attrs:{id:"main-content"}},[s("nuxt")],1),a._v(" "),s("transition",{attrs:{name:"aside"}},[a.fullColumn||a.errorColumn||a.mobileLayout?a._e():s("aside-view",{attrs:{"keep-alive":""}})],1)],1),a._v(" "),a.mobileLayout?a._e():[a.powerSavingMode?a._e():s("theme-view",{on:{theme:a.setTheme}}),a._v(" "),a.isNotServicePage?s("share-view",{staticClass:"sidebar-share"}):a._e(),a._v(" "),a.isNotServicePage?s("language-psm"):a._e(),a._v(" "),a.isNotServicePage?s("wallpaper-switch"):a._e(),a._v(" "),a.isNotFullColPage?s("tool-box"):a._e()],a._v(" "),a.mobileLayout?s("mobile-footer"):s("footer-view")],2)])},[],!1,null,"19bab44c",null));ye.options.__file="default.vue";var Ce=ye.exports,we=Object(A.a)({},function(){var t=this.$createElement;return(this._self._c||t)("nuxt")},[],!1,null,null,null);we.options.__file="empty.vue";const Se={_default:Ce,_empty:we.exports};var xe={head:{title:"Surmon.me - 欢喜勇猛，向死而生",titleTemplate:"%s | Surmon.me",htmlAttrs:{xmlns:"http://www.w3.org/1999/xhtml",lang:"zh"},meta:[{charset:"utf-8"},{"http-equiv":"cleartype",content:"on"},{name:"author",content:"surmon@foxmail.com"},{name:"MobileOptimized",content:"320"},{name:"HandheldFriendly",content:"True"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black"},{name:"apple-mobile-web-app-title",content:"Surmon.me"},{name:"apple-touch-icon",content:"/static/icon.png"},{name:"msapplication-TileImage",content:"/static/icon.png"},{name:"msapplication-TileColor",content:"#0088f5"},{name:"format-detection",content:"telephone=no"},{name:"viewport",content:"width=device-width, initial-scale=1.0, user-scalable=no"},{hid:"keywords",name:"keywords",content:"Surmon,马赐崇,司马萌,Vue开发者,前端技术开发,javascript技术"},{hid:"description",name:"description",content:"凡心所向，素履所往，生如逆旅，一苇以航"},{hid:"mobile-web-app-capable",name:"mobile-web-app-capable",content:"yes"},{hid:"theme-color",name:"theme-color",content:"#0088f5"},{hid:"og:type",name:"og:type",property:"og:type",content:"website"},{hid:"og:title",name:"og:title",property:"og:title",content:"Surmon.me"},{hid:"og:site_name",name:"og:site_name",property:"og:site_name",content:"Surmon.me"},{hid:"og:description",name:"og:description",property:"og:description",content:"欢喜勇猛，向死而生"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"author",type:"text/plain",href:"/humans.txt"},{rel:"manifest",href:"/_nuxt/manifest.516ba2d3.json"}],noscript:[{innerHTML:"This website requires JavaScript."}],style:[],script:[]},render(t,e){const a=t("nuxt-loading",{ref:"loading"}),n=t(this.layout||"nuxt"),s=t("div",{domProps:{id:"__layout"},key:this.layoutName},[n]),i=t("transition",{props:{name:"layout",mode:"out-in"}},[s]);return t("div",{domProps:{id:"__nuxt"}},[a,i])},data:()=>({layout:null,layoutName:""}),beforeCreate(){i.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created(){i.a.prototype.$nuxt=this,"undefined"!=typeof window&&(window.$nuxt=this),this.error=this.nuxt.error},mounted(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},methods:{errorChanged(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(),this.$loading.finish&&this.$loading.finish())},setLayout(t){return t&&Se["_"+t]||(t="default"),this.layoutName=t,this.layout=Se["_"+t],this.layout},loadLayout:t=>(t&&Se["_"+t]||(t="default"),Promise.resolve(Se["_"+t]))},components:{NuxtLoading:st}};i.a.use(it.a);const Ee=a(286),ke=Ee.keys();let Te={};const $e=ke.find(t=>t.includes("./index."));if($e&&(Te=Ie($e)),"function"!=typeof Te){Te.modules||(Te.modules={});for(const t of ke){let e=t.replace(/^\.\//,"").replace(/\.(js|mjs)$/,"");if("index"===e)continue;const a=e.split(/\//);if(e=a[a.length-1],["state","getters","actions","mutations"].includes(e)){Pe(Oe(Te,a,!0),t,e);continue}const n="index"===e;n&&a.pop();const s=Oe(Te,a),i=Ie(t);if(s[e=a.pop()]=s[e]||{},!n){s[e]=Object.assign({},i,s[e]),s[e].namespaced=!0;continue}const o={};if(s[e].appends){o.appends=s[e].appends;for(const t of s[e].appends)o[t]=s[e][t]}s[e]=Object.assign({},s[e],i,o),s[e].namespaced=!0}}const Le=Te instanceof Function?Te:()=>new it.a.Store(Object.assign({strict:!1},Te,{state:Te.state instanceof Function?Te.state():{}}));function Ie(t){const e=Ee(t),a=e.default||e;if(a.commit)throw new Error("[nuxt] store/"+t.replace("./","")+" should export a method which returns a Vuex instance.");if(a.state&&"function"!=typeof a.state)throw new Error("[nuxt] state should be a function in store/"+t.replace("./",""));return a}function Oe(t,e,a=!1){if(1===e.length)return a?t:t.modules;const n=e.shift();return t.modules[n]=t.modules[n]||{},t.modules[n].namespaced=!0,t.modules[n].modules=t.modules[n].modules||{},Oe(t.modules[n],e,a)}function Pe(t,e,a){const n=Ee(e);t.appends=t.appends||[],t.appends.push(a),t[a]=n.default||n}var Re=a(92),Ue=a.n(Re),Ae=a(70),Me=a.n(Ae);const je={setHeader(t,e,a="common"){for(let n of Array.isArray(a)?a:[a]){if(!e)return void delete this.defaults.headers[n][t];this.defaults.headers[n][t]=e}},setToken(t,e,a="common"){const n=t?(e?e+" ":"")+t:null;this.setHeader("Authorization",n,a)},onRequest(t){this.interceptors.request.use(e=>t(e)||e)},onResponse(t){this.interceptors.response.use(e=>t(e)||e)},onRequestError(t){this.interceptors.request.use(void 0,e=>t(e)||Promise.reject(e))},onResponseError(t){this.interceptors.response.use(void 0,e=>t(e)||Promise.reject(e))},onError(t){this.onRequestError(t),this.onResponseError(t)}};for(let t of["request","delete","get","head","options","post","put","patch"])je["$"+t]=function(){return this[t].apply(this,arguments).then(t=>t&&t.data)};var De=(t,e)=>{const a={baseURL:"http://localhost:3000/",headers:{common:{Accept:"application/json, text/plain, */*"},delete:{},get:{},head:{},post:{},put:{},patch:{}}};a.headers.common=t.req&&t.req.headers?Object.assign({},t.req.headers):{},delete a.headers.common.accept,delete a.headers.common.host;const n=Me.a.create(a);(t=>{for(let e in je)t[e]=je[e].bind(t)})(n),((t,e)=>{const a={finish:()=>{},start:()=>{},fail:()=>{},set:()=>{}},n=()=>window.$nuxt&&window.$nuxt.$loading&&window.$nuxt.$loading.set?window.$nuxt.$loading:a;let s=0;t.onRequest(t=>{t&&!1===t.progress||s++}),t.onResponse(t=>{t&&t.config&&!1===t.config.progress||--s<=0&&(s=0,n().finish())}),t.onError(t=>{t&&t.config&&!1===t.config.progress||(s--,n().fail(),n().finish())});const i=t=>{if(!s)return;const e=100*t.loaded/(t.total*s);n().set(Math.min(100,e))};t.defaults.onUploadProgress=i,t.defaults.onDownloadProgress=i})(n),t.$axios=n,e("axios",n)};const Be=(t,e,a)=>t+e+(a?" ago":"前");var Fe={textOverflow:(t,e)=>{const a=e||t.length;return a&&t&&t.length>a?t.substr(0,a)+"...":t},firstUpperCase:t=>t?t.toLowerCase().replace(/( |^)[a-z]/g,t=>t.toUpperCase()):t,timeAgo:(t,e)=>{const a=e&&"en"===e;t=t instanceof Date?t:new Date(t);const n=Date.now()/1e3-Number(t)/1e3;return n<3600?Object.is(~~(n/60),0)?a?"just now":"刚刚":Be(~~(n/60),a?" minutes":" 分钟",a):n<86400?Be(~~(n/3600),a?" hours":" 小时",a):Be(~~(n/86400),a?" days":" 天",a)},toYMD:(t,e)=>{if(!t)return t;const a=e&&"en"===e?"am":"上午",n=e&&"en"===e?"pm":"下午";return`${(t=new Date(t)).getFullYear()}/${t.getMonth()+1}/${t.getDate()} ${t.getHours()>11?n:a}`},toLocalString:t=>t?new Date(t).toLocaleString():t},ze=a(71),We=a.n(ze),Ne={name:"empty-box"},Ge=(a(296),Object(A.a)(Ne,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"empty-box"},[this._t("default",[this._v(this._s(this.$i18n.text.empty||"No Result Data."))])],2)},[],!1,null,null,null));Ge.options.__file="empty.vue";var qe=Ge.exports;var He={install(t){t.component(qe.name,qe)}},Qe={name:"loading-box",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"rgba(197, 197, 197, 0.4)"},height:{type:String,default:"15px"},width:{type:String,default:"15px"},margin:{type:String,default:"5px"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin}}}},Ke=(a(297),Object(A.a)(Qe,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"spinner-box"},[e("div",{staticClass:"spinner-inner"},[e("div",{staticClass:"la-ball-beat"},[e("div",{style:this.spinnerStyle}),this._v(" "),e("div",{style:this.spinnerStyle}),this._v(" "),e("div",{style:this.spinnerStyle})])])])},[],!1,null,"080b7c3a",null));Ke.options.__file="loading.vue";var Ye=Ke.exports;var Ve={install(t){t.component(Ye.name,Ye)}},Xe=a(65).a,Je=(a(319),Object(A.a)(Xe,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-box",class:{mobile:t.mobileLayout},attrs:{id:"comment-box"}},[a("div",{staticClass:"tools"},[a("div",{staticClass:"total"},[a("div",{staticClass:"count"},[a("strong",{staticClass:"count"},[t._v(t._s(t.comment.data.pagination.total||0))]),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.text.comment.count)}})]),t._v(" "),a("a",{staticClass:"like",class:{liked:t.pageLiked},attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.likePage(e)}}},[a("i",{staticClass:"iconfont icon-like"}),t._v(" "),a("strong",[t._v(t._s(t.likes||0))]),t._v(" "),a("span",{domProps:{textContent:t._s(t.mobileLayout&&!t.languageIsEn?"人喜欢":t.$i18n.text.comment.like)}})]),t._v(" "),a("a",{staticClass:"shang",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.shang(e)}}},[a("i",{staticClass:"iconfont icon-shang"})])]),t._v(" "),a("div",{staticClass:"sort"},[a("a",{staticClass:"sort-btn",class:{actived:Object.is(t.sortMode,-1)},attrs:{href:""},domProps:{textContent:t._s(t.$i18n.text.comment.new)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.sortComemnts(-1)}}},[t._v("最新")]),t._v(" "),a("a",{staticClass:"sort-btn",class:{actived:Object.is(t.sortMode,2)},attrs:{href:""},domProps:{textContent:t._s(t.$i18n.text.comment.hot)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.sortComemnts(2)}}},[t._v("最热")])])]),t._v(" "),a("transition",{attrs:{name:"module",mode:"out-in"}},[t.comment.data.data.length||t.comment.fetching?t.comment.fetching?a("loading-box"):a("div",{staticClass:"list-box"},[a("transition-group",{staticClass:"comment-list",attrs:{name:"fade",tag:"ul"}},t._l(t.comment.data.data,function(e,n){return a("li",{key:n,staticClass:"comment-item",attrs:{id:"comment-item-"+e.id}},[t.mobileLayout?t._e():a("div",{staticClass:"cm-avatar"},[a("a",{attrs:{target:"_blank",rel:"external nofollow noopener",href:e.author.site},on:{click:function(a){a.stopPropagation(),t.clickUser(a,e.author)}}},[a("img",{attrs:{alt:e.author.name||t.$i18n.text.comment.anonymous,src:t.gravatar(e.author.email)||t.cdnUrl+"/images/anonymous.jpg"}})])]),t._v(" "),a("div",{staticClass:"cm-body"},[a("div",{staticClass:"cm-header"},[a("a",{staticClass:"user-name",attrs:{target:"_blank",rel:"external nofollow noopener",href:e.author.site},on:{click:function(a){a.stopPropagation(),t.clickUser(a,e.author)}}},[t._v(t._s(t._f("firstUpperCase")(e.author.name)))]),t._v(" "),e.agent?a("span",{staticClass:"os",domProps:{innerHTML:t._s(t.osParse(e.agent))}}):t._e(),t._v(" "),e.agent?a("span",{staticClass:"ua",domProps:{innerHTML:t._s(t.browserParse(e.agent))}}):t._e(),t._v(" "),e.ip_location&&!t.mobileLayout?a("span",{staticClass:"location"},[a("span",[t._v(t._s(e.ip_location.country))]),t._v(" "),e.ip_location.country&&e.ip_location.city?a("span",[t._v(" - ")]):t._e(),t._v(" "),a("span",[t._v(t._s(e.ip_location.city))])]):t._e(),t._v(" "),a("span",{staticClass:"flool"},[t._v("#"+t._s(e.id))])]),t._v(" "),a("div",{staticClass:"cm-content"},[e.pid?a("p",{staticClass:"reply"},[a("span",{domProps:{textContent:t._s(t.$i18n.text.comment.reply)}},[t._v("回复")]),t._v(" "),a("span",[t._v(" ")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.stopPropagation(),a.preventDefault(),t.toSomeAnchorById("comment-item-"+e.pid)}}},[a("span",[t._v("#"+t._s(e.pid)+" ")]),t._v(" "),t.fondReplyParent(e.pid)?a("strong",[t._v("@"+t._s(t.fondReplyParent(e.pid)))]):t._e()]),t._v(" "),a("span",[t._v("：")])]):t._e(),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.marked(e.content))}})]),t._v(" "),a("div",{staticClass:"cm-footer"},[a("span",{staticClass:"create_at"},[t._v(t._s(t._f("timeAgo")(e.create_at,t.language)))]),t._v(" "),a("a",{staticClass:"reply",attrs:{href:""},on:{click:function(a){a.stopPropagation(),a.preventDefault(),t.replyComment(e)}}},[a("i",{staticClass:"iconfont icon-reply"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.text.comment.reply)}},[t._v("回复")])]),t._v(" "),a("a",{staticClass:"like",class:{liked:t.commentLiked(e.id),actived:!!e.likes},attrs:{href:""},on:{click:function(a){a.stopPropagation(),a.preventDefault(),t.likeComment(e)}}},[a("i",{staticClass:"iconfont icon-zan"}),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.text.comment.ding)}},[t._v("顶")]),t._v(" "),a("span",[t._v(" ("+t._s(e.likes)+")")])])])])])}))],1):a("div",{staticClass:"empty-box",domProps:{textContent:t._s(t.$i18n.text.comment.empty)}},[t._v("Go right to the heart of the matter.")])],1),t._v(" "),a("transition",{attrs:{name:"module"}},[t.comment.data.pagination.total_page>1?a("div",{staticClass:"pagination-box"},[Object.is(t.sortMode,2)?a("ul",{staticClass:"pagination-list"},t._l(t.comment.data.pagination.total_page,function(e,n){return a("li",{key:n,staticClass:"item"},[a("a",{staticClass:"pagination-btn",class:{"actived disabled":Object.is(e,t.comment.data.pagination.current_page)},attrs:{href:""},on:{click:function(a){a.stopPropagation(),a.preventDefault(),!Object.is(e,t.comment.data.pagination.current_page)&&t.loadComemntList({page:e})}}},[t._v(t._s(e))])])})):a("ul",{staticClass:"pagination-list"},[a("li",{staticClass:"item"},[a("a",{staticClass:"pagination-btn prev disabled",attrs:{href:""},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("span",[t._v("— ")]),t._v(" "),a("span",{domProps:{textContent:t._s(t.$i18n.text.comment.pagenation.old)}},[t._v("old")])])]),t._v(" "),t._l(t.comment.data.pagination.total_page,function(e,n){return a("li",{key:n,staticClass:"item"},[a("a",{staticClass:"pagination-btn",class:{"actived disabled":t.paginationReverseActive(e)},attrs:{href:""},on:{click:function(a){a.stopPropagation(),a.preventDefault(),!t.paginationReverseActive(e)&&t.loadComemntList({page:t.comment.data.pagination.total_page+1-e})}}},[t._v(t._s(e))])])}),t._v(" "),a("li",{staticClass:"item"},[a("a",{staticClass:"pagination-btn next disabled",attrs:{href:""},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("span",{domProps:{textContent:t._s(t.$i18n.text.comment.pagenation.new)}},[t._v("new")]),t._v(" "),a("span",[t._v(" —")])])])],2)]):t._e()]),t._v(" "),a("form",{staticClass:"post-box",attrs:{name:"comment",id:"post-box"}},[a("transition",{attrs:{name:"module",mode:"out-in"}},[!t.userCacheMode||t.userCacheEditing?a("div",{staticClass:"user"},[a("div",{staticClass:"name"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],class:t.language,attrs:{required:"",type:"text",name:"name",autocomplete:"on",placeholder:t.$i18n.text.comment.profile.name+" *"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"email"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],class:t.language,attrs:{required:"",type:"email",name:"email",placeholder:t.$i18n.text.comment.profile.email+" *",autocomplete:"on"},domProps:{value:t.user.email},on:{blur:t.upadteUserGravatar,input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"site"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.site,expression:"user.site"}],class:t.language,attrs:{type:"url",name:"url",autocomplete:"on",placeholder:t.$i18n.text.comment.profile.site},domProps:{value:t.user.site},on:{input:function(e){e.target.composing||t.$set(t.user,"site",e.target.value)}}})]),t._v(" "),t.userCacheEditing?a("div",{staticClass:"save"},[a("button",{attrs:{type:"submit"},on:{click:function(e){t.updateUserCache(e)}}},[a("i",{staticClass:"iconfont icon-success"})])]):t._e()]):t.userCacheMode&&!t.userCacheEditing?a("div",{staticClass:"user"},[a("div",{staticClass:"edit"},[a("strong",{staticClass:"name"},[t._v(t._s(t._f("firstUpperCase")(t.user.name)))]),t._v(" "),a("a",{staticClass:"setting",attrs:{href:""},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("i",{staticClass:"iconfont icon-setting"}),t._v(" "),a("span",{staticClass:"account-setting",domProps:{textContent:t._s(t.$i18n.text.comment.setting.account)}},[t._v("账户设置")]),t._v(" "),a("ul",{staticClass:"user-tool"},[a("li",{domProps:{textContent:t._s(t.$i18n.text.comment.setting.edit)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.userCacheEditing=!0}}},[t._v("编辑信息")]),t._v(" "),a("li",{domProps:{textContent:t._s(t.$i18n.text.comment.setting.clear)},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.claerUserCache(e)}}},[t._v("清空信息")])])])])]):t._e()]),t._v(" "),a("div",{staticClass:"editor-box"},[a("div",{staticClass:"user"},[t.mobileLayout?t._e():a("div",{staticClass:"gravatar"},[a("img",{attrs:{alt:t.user.name||t.$i18n.text.comment.anonymous,src:t.user.gravatar||t.cdnUrl+"/images/anonymous.jpg"}})])]),t._v(" "),a("div",{staticClass:"editor"},[a("transition",{attrs:{name:"module"}},[t.pid?a("div",{staticClass:"will-reply"},[a("div",{staticClass:"reply-user"},[a("span",[a("span",{domProps:{textContent:t._s(t.$i18n.text.comment.reply)}},[t._v("回复")]),t._v(" "),a("span",[t._v(" ")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toSomeAnchorById("comment-item-"+t.replyCommentSlef.id)}}},[a("strong",[t._v("#"+t._s(t.replyCommentSlef.id)+" @"+t._s(t.replyCommentSlef.author.name)+"：")])])]),t._v(" "),a("a",{staticClass:"cancel iconfont icon-cancel",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.cancelCommentReply(e)}}})]),t._v(" "),a("div",{staticClass:"reply-preview",domProps:{innerHTML:t._s(t.marked(t.replyCommentSlef.content))}})]):t._e()]),t._v(" "),a("div",{staticClass:"markdown"},[a("div",{ref:"markdown",staticClass:"markdown-editor",attrs:{contenteditable:"true",placeholder:t.$i18n.text.comment.placeholder},on:{keyup:function(e){t.commentContentChange(e)}}}),t._v(" "),a("div",{staticClass:"markdown-preview",class:{actived:t.previewMode},domProps:{innerHTML:t._s(t.previewContent)}})]),t._v(" "),a("div",{staticClass:"editor-tools"},[a("a",{staticClass:"emoji",attrs:{href:"",title:"emoji"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("i",{staticClass:"iconfont icon-emoji"}),t._v(" "),a("div",{staticClass:"emoji-box"},[a("ul",{staticClass:"emoji-list"},t._l(t.emojis,function(e,n){return a("li",{key:n,staticClass:"item",on:{click:function(a){t.insertEmoji(e)}}},[t._v(t._s(e))])}))])]),t._v(" "),a("a",{staticClass:"image",attrs:{href:"",title:"image"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.insertContent("image")}}},[a("i",{staticClass:"iconfont icon-image"})]),t._v(" "),a("a",{staticClass:"link",attrs:{href:"",title:"link"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.insertContent("link")}}},[a("i",{staticClass:"iconfont icon-link-horizontal"})]),t._v(" "),a("a",{staticClass:"code",attrs:{href:"",title:"code"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.insertContent("code")}}},[a("i",{staticClass:"iconfont icon-code-comment"})]),t._v(" "),a("a",{staticClass:"preview",attrs:{href:"",title:"preview"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.togglePreviewMode(e)}}},[a("i",{staticClass:"iconfont icon-eye"})]),t._v(" "),a("button",{staticClass:"submit",attrs:{type:"submit",disabled:t.comment.posting},on:{click:function(e){t.submitComment(e)}}},[a("span",[t._v(t._s(t.comment.posting?t.$i18n.text.comment.submiting:t.$i18n.text.comment.submit))])])])],1)])],1)],1)},[],!1,null,null,null));Je.options.__file="comment.vue";var Ze=Je.exports;var ta={install(t){t.component("comment-box",Ze)}},ea={name:"flower-item",props:{options:{type:Object,required:!0},zindex:{type:Number,required:!0}},data:()=>({delay:1,timer:null,playing:!1}),computed:{styles(){return{top:this.options.y+"px",left:this.options.x+"px","z-index":99999+this.zindex}}},ready(){this.startAnimation()},mounted(){this.startAnimation()},beforeDestroy(){this.timer&&(clearTimeout(this.timer),this.timer=null)},methods:{startAnimation(){this.$nextTick(()=>{setTimeout(()=>{this.playing=!0}),this.timer=setTimeout(()=>{this.playing=!1,this.$nextTick(()=>{this.$emit("end",this.options.id)})},1e3*this.delay)})}}},aa=(a(320),Object(A.a)(ea,function(){var t=this.$createElement;return(this._self._c||t)("li",{staticClass:"flower-item",class:[this.playing?"playing":""],style:this.styles,domProps:{textContent:this._s(this.options.text)}})},[],!1,null,"66615580",null));aa.options.__file="flower.vue";var na={name:"flower-garden",components:{Flower:aa.exports},data:()=>({id:0,flowers:[],contentIndex:-1,flowerContents:["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"]}),methods:{eventHandle(t){this.contentIndex++,this.contentIndex>=this.flowerContents.length&&(this.contentIndex=0),this.flowers.push({id:++this.id,x:t.x||t.clientX,y:t.y||t.clientY,text:this.flowerContents[this.contentIndex]})},handleAnimationEnd(t){const e=this.flowers.findIndex(e=>e.id===t);e>-1&&this.flowers.splice(e,1)}},mounted(){window.addEventListener("click",this.eventHandle)},beforeDestroy(){window.removeEventListener("click",this.eventHandle)}},sa=(a(321),Object(A.a)(na,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"garden-box"},t._l(t.flowers,function(e,n){return a("flower",{key:e.id,attrs:{zindex:n+1,options:e},on:{end:t.handleAnimationEnd}})}))},[],!1,null,"189e8a52",null));sa.options.__file="garden.vue";var ia=sa.exports;var oa={install(t){t.component("WallFlowerBox",ia)}},ra={name:"color-block-box",props:{gray:Boolean,left:Number,color:String,border:{type:String,default:"right"}}},la=(a(322),Object(A.a)(ra,function(){var t,e=this.$createElement;return(this._self._c||e)("div",{staticClass:"color-block-box",class:(t={gray:this.gray,"border-left":"left"===this.border,"border-right":"right"===this.border},t[this.color||""]=!0,t),style:{transform:"rotate(-60deg) translateY("+this.left+"%)"}})},[],!1,null,null,null));la.options.__file="block.vue";var ca=la.exports;var ua={install(t){t.component(ca.name,ca)}};const da=(t=>{const e=t.languages.map(t=>t.code),a=t.data,n={},s=(t,e,a,n)=>{for(const i in e)i===n?t[a]=e[i]:"object"==typeof e[i]&&s(e,e[i],i,n)};return e.forEach(t=>{n[t]=JSON.parse(JSON.stringify(a)),s(null,n[t],null,t)}),n})(We.a);i.a.prototype.cdnUrl=Rt.a.cdnUrl,i.a.prototype.proxyUrl=Rt.a.proxyUrl,Object.keys(Fe).forEach(t=>i.a.filter(t,Fe[t])),i.a.use(He),i.a.use(ta),i.a.use(Ve),i.a.use(oa),i.a.use(ua),i.a.mixin({computed:{$i18n(){return da[this.$store.state.option.language]}}});if($t.isBrowser){const t=t=>{window.setTimeout(t,666),$t.isBrowser&&$t.isProdMode&&(console.clear(),console.log("%cTalk is cheap. Show me the code %csurmon@foxmail.com","color:#666;font-size:3em;","color:#666;font-size:13px;"))},e=e=>{window.loaded=!0,window.loadedTasks.forEach(e=>t(e))},a=e=>{window.loaded?t(e):window.loadedTasks.push(e)};window.loaded=!1,window.loadedTasks=[],window.addLoadedTask=a,window.addEventListener("load",e)}var pa=a(27),ma=a(29),ha=a(28),_a=a(140),ga=a.n(_a);i.a.use(ga.a);var fa=a(141),va=a.n(fa);$t.isBrowser&&window.onNuxtReady(t=>{i.a.use(va.a,{id:"UA-84887611-3",router:window.$nuxt.$router,customResourceURL:"/scripts/analytics.js",autoTracking:{exception:!0,screenview:!0},debug:{sendHitTask:$t.isProdMode}})});var ba=a(142),ya=a.n(ba);if($t.isBrowser&&(window.Emoji233333=ya.a),$t.isBrowser){const t=()=>{const t=document.getElementById("image-popup");t&&(window.onscroll=null,t.setAttribute("class",""),setTimeout(()=>{t&&document.body.removeChild(t)},350))},e=(e,a)=>{if(!e)return!1;const n=document.createElement("img");n.src=e,a&&n.setAttribute("class",a);const s=document.getElementById("image-popup");s&&document.body.removeChild(s);const i=document.createElement("div");i.setAttribute("id","image-popup"),i.appendChild(n),document.body.appendChild(i),setTimeout(()=>{i.setAttribute("class","display")},100),window.onscroll=t,i.onclick=(e=>{Object.is(e.target.tagName,"IMG")||t()})};window.utils=window.utils||{},window.utils.openImgPopup=e,window.utils.closeImgPopup=t}if($t.isBrowser){const t=()=>["","著作权归作者所有。","商业转载请联系作者获得授权，非商业转载请注明出处。","作者：Surmon","链接："+location.href,"来源：Surmon.me",""].join("\n"),e=e=>e+t(),a=e=>e+t();document.addEventListener("copy",t=>{if(window.getSelection&&!window.clickCopy){const n=window.getSelection().toString();t.clipboardData.setData("text/plain",e(n)),t.clipboardData.setData("text/html",a(n)),t.preventDefault()}})}i.a.component(L.name,L),i.a.component(I.name,I),i.a.component(R.name,R),i.a.component(et.name,et),i.a.use(p.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});const Ca={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function wa(){return(wa=s()(function*(t){const e=yield new m.a({mode:"history",base:"/",linkActiveClass:"link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:T,routes:[{path:"/guestbook",component:h,name:"guestbook"},{path:"/sitemap",component:_,name:"sitemap"},{path:"/app",component:g,name:"app"},{path:"/service",component:f,name:"service"},{path:"/project",component:v,name:"project"},{path:"/about",component:b,name:"about"},{path:"/music",component:y,name:"music"},{path:"/search/:keyword?",component:C,name:"search-keyword"},{path:"/tag/:tag_slug?",component:w,name:"tag-tag_slug"},{path:"/date/:date?",component:S,name:"date-date"},{path:"/article/:article_id?",component:x,name:"article-article_id"},{path:"/category/:category_slug?",component:E,name:"category-category_slug"},{path:"/",component:k,name:"index"}],fallback:!1}),a=Le(t);a.$router=e;const n=a.registerModule;a.registerModule=((t,e,s)=>n.call(a,t,e,Object.assign({preserveState:!0},s)));const s={router:e,store:a,nuxt:{defaultTransition:Ca,transitions:[Ca],setTransitions(t){return Array.isArray(t)||(t=[t]),t=t.map(t=>t=t?"string"==typeof t?Object.assign({},Ca,{name:t}):Object.assign({},Ca,t):Ca),this.$options.nuxt.transitions=t,t},err:null,dateErr:null,error(e){e=e||null,s.context._errored=!!e,"string"==typeof e&&(e={statusCode:500,message:e});const a=this.nuxt||this.$options.nuxt;return a.dateErr=Date.now(),a.err=e,t&&(t.nuxt.error=e),e}},...xe};a.app=s;const o=t?t.next:t=>s.router.push(t);let r;if(t)r=e.resolve(t.url).route;else{const t=Y(e.options.base);r=e.resolve(t).route}yield H(s,{route:r,next:o,error:s.nuxt.error.bind(s),store:a,payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0});const l=function(t,e){if(!t)throw new Error("inject(key, value) has no key provided");if(!e)throw new Error("inject(key, value) has no value provided");s[t="$"+t]=e,a[t]=s[t];const n="__nuxt_"+t+"_installed__";i.a[n]||(i.a[n]=!0,i.a.use(()=>{i.a.prototype.hasOwnProperty(t)||Object.defineProperty(i.a.prototype,t,{get(){return this.$root.$options[t]}})}))};return window.__NUXT__&&window.__NUXT__.state&&a.replaceState(window.__NUXT__.state),"function"==typeof De&&(yield De(s.context,l)),"function"==typeof pa.a&&(yield Object(pa.a)(s.context,l)),"function"==typeof ma.a&&(yield Object(ma.a)(s.context,l)),"function"==typeof ha.a&&(yield Object(ha.a)(s.context,l)),"function"==typeof Ue.a&&(yield Ue()(s.context,l)),{app:s,router:e,store:a}})).apply(this,arguments)}let Sa,xa,Ea,ka=[];const Ta=window.__NUXT__||{};function $a(t,e,a){const n=t=>{const n=function(t,e,...a){if(!t||!t.options||!t.options[e])return{};const n=t.options[e];return"function"==typeof n?n(...a):n}(t,"transition",e,a)||{};return"string"==typeof n?{name:n}:n};return t.map(t=>{const e=Object.assign({},n(t));if(a&&a.matched.length&&a.matched[0].components.default){const t=n(a.matched[0].components.default);Object.keys(t).filter(e=>t[e]&&e.toLowerCase().includes("leave")).forEach(a=>{e[a]=t[a]})}return e})}function La(){return(La=s()(function*(t,e,a){this._pathChanged=!!Sa.nuxt.err||e.path!==t.path,this._queryChanged=JSON.stringify(t.query)!==JSON.stringify(e.query),this._diffQuery=this._queryChanged?function(t,e){const a={},n={...t,...e};for(const s in n)String(t[s])!==String(e[s])&&(a[s]=!0);return a}(t.query,e.query):[],this._pathChanged&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();try{const n=yield N(t);if(!this._pathChanged&&this._queryChanged){n.some(t=>{const e=t.options.watchQuery;return!0===e||!!Array.isArray(e)&&e.some(t=>this._diffQuery[t])})&&this.$loading.start&&!this.$loading.manual&&this.$loading.start()}a()}catch(n){const s=(n=n||{}).statusCode||n.status||n.response&&n.response.status||500;this.error({statusCode:s,message:n.message}),this.$nuxt.$emit("routeChanged",t,e,n),a(!1)}})).apply(this,arguments)}function Ia(t){const e=Y(t.options.base,t.options.mode);return W(t.match(e),function(){var t=s()(function*(t,e,a,n,s){"function"!=typeof t||t.options||(t=yield t());const i=function(t,e){return Ta.serverRendered&&e&&B(t,e),t._Ctor=t,t}(F(t),Ta.data?Ta.data[s]:null);return a.components[n]=i,i});return function(e,a,n,s,i){return t.apply(this,arguments)}}())}function Oa(t,e,a){let n=["change-page-col"],s=!1;if(void 0!==a&&(n=[],a.middleware&&(n=n.concat(a.middleware)),t.forEach(t=>{t.options.middleware&&(n=n.concat(t.options.middleware))})),n=n.map(t=>"function"==typeof t?t:("function"!=typeof u[t]&&(s=!0,this.error({statusCode:500,message:"Unknown middleware "+t})),u[t])),!s)return function t(e,a){return!e.length||a._redirected||a._errored?Promise.resolve():K(e[0],a).then(()=>t(e.slice(1),a))}(n,e)}function Pa(t,e,a){return Ra.apply(this,arguments)}function Ra(){return(Ra=s()(function*(t,e,a){if(!1===this._pathChanged&&!1===this._queryChanged)return a();if(t===e)ka=[];else{const t=[];ka=z(e,t).map((a,n)=>V(e.matched[t[n]].path)(e.params))}let n=!1;yield H(Sa,{route:t,from:e,next:(t=>{e.path===t.path&&this.$loading.finish&&this.$loading.finish(),e.path!==t.path&&this.$loading.pause&&this.$loading.pause(),n||(n=!0,a(t))}).bind(this)}),this._dateLastError=Sa.nuxt.dateErr,this._hadError=!!Sa.nuxt.err;const s=[],o=z(t,s);if(!o.length){if(yield Oa.call(this,o,Sa.context),n)return;const t=yield this.loadLayout("function"==typeof j.layout?j.layout(Sa.context):j.layout);if(yield Oa.call(this,o,Sa.context,t),n)return;return Sa.context.error({statusCode:404,message:"This page could not be found"}),a()}o.forEach(t=>{t._Ctor&&t._Ctor.options&&(t.options.asyncData=t._Ctor.options.asyncData,t.options.fetch=t._Ctor.options.fetch)}),this.setTransitions($a(o,t,e));try{if(yield Oa.call(this,o,Sa.context),n)return;if(Sa.context._errored)return a();let r=o[0].options.layout;if("function"==typeof r&&(r=r(Sa.context)),r=yield this.loadLayout(r),yield Oa.call(this,o,Sa.context,r),n)return;if(Sa.context._errored)return a();let l=!0;try{for(const t of o)if("function"==typeof t.options.validate&&!(l=yield t.options.validate(Sa.context)))break}catch(t){return this.error({statusCode:t.statusCode||"500",message:t.message}),a()}if(!l)return this.error({statusCode:404,message:"This page could not be found"}),a();yield Promise.all(o.map((e,a)=>{if(e._path=V(t.matched[s[a]].path)(t.params),e._dataRefresh=!1,this._pathChanged&&this._queryChanged||e._path!==ka[a])e._dataRefresh=!0;else if(!this._pathChanged&&this._queryChanged){const t=e.options.watchQuery;!0===t?e._dataRefresh=!0:Array.isArray(t)&&(e._dataRefresh=t.some(t=>this._diffQuery[t]))}if(!this._hadError&&this._isMounted&&!e._dataRefresh)return Promise.resolve();let n=[];const i=e.options.asyncData&&"function"==typeof e.options.asyncData,o=!!e.options.fetch,r=i&&o?30:45;if(i){const t=K(e.options.asyncData,Sa.context).then(t=>{B(e,t),this.$loading.increase&&this.$loading.increase(r)});n.push(t)}if(this.$loading.manual=!1===e.options.loading,o){let t=e.options.fetch(Sa.context);t&&(t instanceof Promise||"function"==typeof t.then)||(t=Promise.resolve(t)),t.then(t=>{this.$loading.increase&&this.$loading.increase(r)}),n.push(t)}return Promise.all(n)})),n||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),a())}catch(n){if(n){if("ERR_REDIRECT"===n.message)return this.$nuxt.$emit("routeChanged",t,e,n)}else n={};ka=[];const s=n.response&&n.response.status;n.statusCode=n.statusCode||n.status||s||500,function(t){i.a.config.errorHandler&&i.a.config.errorHandler(t)}(n);let o=j.layout;"function"==typeof o&&(o=o(Sa.context)),yield this.loadLayout(o),this.error(n),this.$nuxt.$emit("routeChanged",t,e,n),a(!1)}})).apply(this,arguments)}function Ua(t,e){W(t,(t,e,a,n)=>("object"!=typeof t||t.options||((t=i.a.extend(t))._Ctor=t,a.components[n]=t),t))}function Aa(t){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();let e=this.$options.nuxt.err?j.layout:t.matched[0].components.default.options.layout;"function"==typeof e&&(e=e(Sa.context)),this.setLayout(e)}function Ma(t,e){!1===this._pathChanged&&!1===this._queryChanged||i.a.nextTick(()=>{const e=[],a=function(t,e=!1){return Array.prototype.concat.apply([],t.matched.map((t,a)=>Object.keys(t.instances).map(n=>(e&&e.push(a),t.instances[n]))))}(t,e),n=z(t,e);a.forEach((t,e)=>{if(t&&t.constructor._dataRefresh&&n[e]===t.constructor&&"function"==typeof t.constructor.options.data){const e=t.constructor.options.data.call(t);for(let a in e)i.a.set(t.$data,a,e[a])}}),Aa.call(this,t)})}function ja(){return(ja=s()(function*(t){Sa=t.app,xa=t.router,Ea=t.store;const e=yield Promise.all(Ia(xa)),a=new i.a(Sa),n=Ta.layout||"default";yield a.loadLayout(n),a.setLayout(n);const s=()=>{a.$mount("#__nuxt"),i.a.nextTick(()=>{!function(t){window.onNuxtReadyCbs.forEach(e=>{"function"==typeof e&&e(t)}),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(t),xa.afterEach((e,a)=>{i.a.nextTick(()=>t.$nuxt.$emit("routeChanged",e,a))})}(a)})};a.setTransitions=a.$options.nuxt.setTransitions.bind(a),e.length&&(a.setTransitions($a(e,xa.currentRoute)),ka=xa.currentRoute.matched.map(t=>V(t.path)(xa.currentRoute.params))),a.$loading={},Ta.error&&a.error(Ta.error),xa.beforeEach(function(t,e,a){return La.apply(this,arguments)}.bind(a)),xa.beforeEach(Pa.bind(a)),xa.afterEach(Ua),xa.afterEach(Ma.bind(a)),Ta.serverRendered?s():Pa.call(a,xa.currentRoute,xa.currentRoute,t=>{if(!t)return Ua(xa.currentRoute,xa.currentRoute),Aa.call(a,xa.currentRoute),void s();xa.push(t,()=>s(),t=>{if(!t)return s();console.error(t)})})})).apply(this,arguments)}Object.assign(i.a.config,{silent:!0,performance:!1}),function(t){return wa.apply(this,arguments)}().then(function(t){return ja.apply(this,arguments)}).catch(t=>{console.error("[nuxt] Error while initializing app",t)})},function(t,e,a){"use strict";a.r(e);a(5);var n=a(1),s=a(7),i=a.n(s),o=a(4),r=a(3),l=a(11);a.d(e,"actions",function(){return p});const c=i.a.baseUrl,u=t=>t.status?t.data:t,d=t=>t.status?t.status&&t.data&&Object.is(t.data.code,1):Object.is(t.code,1),p={nuxtServerInit(t,{req:e,params:a,route:n}){const s=o.isServer?e.headers["user-agent"]:navigator.userAgent,{isMobile:i,isOpera:r,isIE:l,isSafari:c,isEdge:u,isFF:d,isBB:p,isChrome:m,isMaxthon:h,isIos:_}=(t=>({isEdge:t.includes("Edge"),isFF:t.includes("Firefox"),isOpera:t.includes("Opera"),isBB:t.includes("BlackBerry"),isChrome:t.includes("Chrome"),isMaxthon:t.includes("Maxthon"),isIos:/(iPhone|iPad|iPod|iOS)/i.test(t),isIE:["compatible","MSIE"].every(e=>t.includes(e)),isSafari:t.includes("Safari")&&!t.includes("Chrome"),isMobile:/(iPhone|iPod|Opera Mini|Android.*Mobile|NetFront|PSP|BlackBerry|Windows Phone)/gi.test(t)}))(s),g=_||d||h||c||p||l||u;t.commit("option/SET_USER_AGENT",s),t.commit("option/SET_MOBILE_LAYOUT",i),t.commit("option/SET_IMG_EXT",g?"jpeg":"webp"),i&&t.commit("option/SWITCH_LANGUAGE","zh");const f=[t.dispatch("loadAdminInfo"),t.dispatch("loadGlobalOption"),t.dispatch("loadTagList"),t.dispatch("loadCategories")];i||f.push(t.dispatch("loadHotArticles"));const v=Object.is(n.name,"guestbook"),b=a.article_id||!!v&&0;return!1!==b&&f.push(t.dispatch("loadCommentsByPostId",{post_id:b})),Promise.all(f)},loadAdminInfo({commit:t}){return t("option/REQUEST_ADMIN_INFO"),this.$axios.$get(`${c}/auth`).then(e=>{d(e)?t("option/REQUEST_ADMIN_INFO_SUCCESS",u(e)):t("option/REQUEST_ADMIN_INFO_FAILURE")}).catch(e=>{t("option/REQUEST_ADMIN_INFO_FAILURE",e)})},loadGlobalOption({commit:t}){return t("option/REQUEST_GLOBAL_OPTIONS"),this.$axios.$get(`${c}/option`).then(e=>{d(e)?t("option/REQUEST_GLOBAL_OPTIONS_SUCCESS",u(e)):t("option/REQUEST_GLOBAL_OPTIONS_FAILURE")}).catch(e=>{t("option/REQUEST_GLOBAL_OPTIONS_FAILURE",e)})},loadTagList({commit:t},e={per_page:160}){return t("tag/REQUEST_LIST"),this.$axios.$get(`${c}/tag`,{params:e}).then(e=>{d(e)?t("tag/GET_LIST_SUCCESS",u(e)):t("tag/GET_LIST_FAILURE")}).catch(e=>{t("tag/GET_LIST_FAILURE",e)})},loadCategories({commit:t},e={per_page:100}){return t("category/REQUEST_LIST"),this.$axios.$get(`${c}/category`,{params:e}).then(e=>{d(e)?t("category/GET_LIST_SUCCESS",u(e)):t("category/GET_LIST_FAILURE")}).catch(e=>{t("category/GET_LIST_FAILURE",e)})},loadHotArticles({commit:t}){return t("article/REQUEST_HOT_LIST"),this.$axios.$get(`${c}/article`,{params:{hot:1}}).then(e=>{d(e)?t("article/GET_HOT_LIST_SUCCESS",u(e)):t("article/GET_HOT_LIST_FAILURE")}).catch(e=>{t("article/GET_HOT_LIST_FAILURE",e)})},loadCommentsByPostId({commit:t},e){return 1===(e=Object.assign({page:1,sort:-1,per_page:88},e)).page&&t("comment/CLEAR_LIST"),t("comment/REQUEST_LIST"),this.$axios.$get(`${c}/comment`,{params:e}).then(a=>{if(d(a)){const n=u(a);Object.is(e.sort,-1)&&n.result.data.reverse(),t("comment/GET_LIST_SUCCESS",n)}else t("comment/GET_LIST_FAILURE")}).catch(e=>{t("comment/GET_LIST_FAILURE",e)})},postComment({commit:t},e){return t("comment/POST_ITEM"),this.$axios.$post(`${c}/comment`,e).then(e=>{const a=u(e);return d(e)?(t("comment/POST_ITEM_SUCCESS",a),Promise.resolve(a)):(t("comment/POST_ITEM_FAILURE"),Promise.reject(a))}).catch(e=>(t("comment/POST_ITEM_FAILURE",e),Promise.reject(e)))},likeArticleOrPageOrComment({commit:t},e){return this.$axios.$post(`${c}/like`,e).then(a=>{const n=u(a);if(d(a)){let a;switch(e.type){case 1:a="comment/LIKE_ITEM";break;case 2:a=Object.is(e.id,0)?"option/LIKE_SITE":"article/LIKE_ARTICLE"}return t(a,e),Promise.resolve(n)}return Promise.reject(n)})},loadAnnouncements({commit:t},e={}){return t("announcement/REQUEST_LIST"),this.$axios.$get(`${c}/announcement`,{params:e}).then(e=>{d(e)?t("announcement/GET_LIST_SUCCESS",u(e)):t("announcement/GET_LIST_FAILURE")}).catch(e=>{t("announcement/GET_LIST_FAILURE",e)})},loadSitemapArticles({commit:t},e={page:1}){return t("sitemap/REQUEST_ARTICLES"),this.$axios.$get(`${c}/article`,{params:e}).then(e=>{d(e)?t("sitemap/GET_ARTICLES_SUCCESS",u(e)):t("sitemap/GET_ARTICLES_FAILURE")}).catch(e=>{t("sitemap/GET_ARTICLES_FAILURE",e)})},loadArticles({commit:t},e={page:1}){return Object.is(e.page,1)&&t("article/CLEAR_LIST"),t("article/REQUEST_LIST"),this.$axios.$get(`${c}/article`,{params:e}).then(a=>{const s=d(a),i=e.page&&e.page>1;s?(t(`article/${i?"ADD":"GET"}_LIST_SUCCESS`,u(a)),i&&o.isBrowser&&n.a.nextTick(()=>{Object(l.b)(window.scrollY+.8*window.innerHeight,300,{easing:l.a["ease-in"]})})):t("article/GET_LIST_FAILURE")}).catch(e=>{t("article/GET_LIST_FAILURE",e)})},loadArticleDetail({commit:t},e={}){return t("article/REQUEST_DETAIL"),this.$axios.$get(`${c}/article/${e.article_id}`).then(e=>{const a=u(e);return d(e)?(t("article/GET_DETAIL_SUCCESS",a),Promise.resolve(a)):(t("article/GET_DETAIL_FAILURE"),Promise.reject(e))}).catch(e=>(t("article/GET_DETAIL_FAILURE",e),Promise.reject(e)))},loadGithubRepositories({commit:t,state:e}){return e.project.repositories.data.length?Promise.resolve(e.project.repositories.data):(t("project/REQUEST_GUTHUB_REPOSITORIES"),this.$axios.$get(`${c}/github`).then(e=>{d(e)?t("project/REQUEST_GUTHUB_REPOSITORIES_SUCCESS",u(e)):t("project/REQUEST_GUTHUB_REPOSITORIES_FAILURE")}).catch(e=>{t("project/REQUEST_GUTHUB_REPOSITORIES_FAILURE",e)}))},loadWallpapers({commit:t,state:e}){return e.wallpaper.papers.data?Promise.resolve(e.wallpaper.papers.data):(t("wallpaper/REQUEST_WALLPAPERS"),this.$axios.$get(`${c}/wallpaper/list`).then(e=>{d(e)?t("wallpaper/REQUEST_WALLPAPERS_SUCCESS",u(e)):t("wallpaper/REQUEST_WALLPAPERS_FAILURE")}).catch(e=>{t("wallpaper/REQUEST_WALLPAPERS_FAILURE",e)}))},loadWallpaperStory({commit:t,state:e}){return e.wallpaper.story.data?Promise.resolve(e.wallpaper.story.data):(t("wallpaper/REQUEST_STORY"),this.$axios.$get(`${c}/wallpaper/story`).then(e=>{d(e)?t("wallpaper/REQUEST_STORY_SUCCESS",u(e)):t("wallpaper/REQUEST_STORY_FAILURE")}).catch(e=>{t("wallpaper/REQUEST_STORY_FAILURE",e)}))},loadMuiscPlayerList({commit:t}){return r.a.requestMusicList(),this.$axios.$get(`${c}/music/list/638949385`).then(t=>{d(t)?(r.a.getMusicListSuccess(u(t)),r.a.initPlayer()):r.a.getMusicListFailure()}).catch(r.a.getMusicListFailure)},loadMuiscSongDetail({commit:t},e={}){return r.a.requestSong(),this.$axios.$get(`${c}/music/song/${e.song_id}`).then(t=>{d(t)?r.a.getSongSuccess(u(t)):r.a.getSongFailure()}).catch(r.a.getSongFailure)},loadMuiscSongLrc({commit:t},e={}){return r.a.requestLrc(),this.$axios.$get(`${c}/music/lrc/${e.song_id}`).then(t=>{d(t)?r.a.getLrcSuccess(u(t)):r.a.getLrcFailure()}).catch(r.a.getLrcFailure)}}}],[[143,16,2,17]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{338:function(t,e,a){},351:function(t,e,a){"use strict";var s=a(338);a.n(s).a},366:function(t,e,a){"use strict";a.r(e);var s=a(3),r=a(4),i={name:"music",head(){return{title:`${this.langIsEn?"":this.$i18n.nav.music+" | "}Music`}},data:()=>({height:0}),created(){this.$store.state.option.mobileLayout&&this.$router.back()},mounted(){r.isBrowser&&(this.updateScreenHeight(),window.addEventListener("resize",this.updateScreenHeight))},beforeDestroy(){window.removeEventListener("resize",this.updateScreenHeight)},computed:{langIsEn(){return this.$store.getters["option/langIsEn"]},player:()=>s.a.player.player,playerState:()=>s.a.player.playerState,currentSong:()=>s.a.currentSong,currentSongPicUrl:()=>s.a.currentSongPicUrl,relativeStrokeWidth:()=>(15/450*100).toFixed(1),trackPath(){const t=parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10);return`M 50 50 m 0 -${t} a ${t} ${t} 0 1 1 0 ${2*t} a ${t} ${t} 0 1 1 0 -${2*t}`},perimeter(){const t=50-parseFloat(this.relativeStrokeWidth)/2;return 2*Math.PI*t},circlePathStyle(){const t=this.perimeter;return{strokeDasharray:`${t}px,${t}px`,strokeDashoffset:(1-this.playerState.progress/100)*t+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}}},methods:{updateScreenHeight(t){const e=window.innerHeight;this.height=e-56>742?e-168:742},checkPLayerState(t){this.playerState.ready&&t()},togglePlay(){this.checkPLayerState(this.player.togglePlay)},toggleMuted(){this.checkPLayerState(this.player.toggleMuted)},prevSong(){this.checkPLayerState(this.player.prevSong)},nextSong(){this.checkPLayerState(this.player.nextSong)}}},n=(a(351),a(0)),o=Object(n.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page",style:{height:t.height+"px"}},[a("div",{staticClass:"player"},[a("button",{staticClass:"prev-song",attrs:{disabled:!t.playerState.ready},on:{click:t.prevSong}},[a("i",{staticClass:"iconfont icon-music-prev"})]),t._v(" "),a("div",{staticClass:"album-box"},[a("div",{staticClass:"circle-progress"},[a("svg",{attrs:{viewBox:"0 0 100 100"}},[a("path",{staticClass:"circle-progress-circle-track",attrs:{stroke:"rgba(197, 197, 197, 0.4)",fill:"none",d:t.trackPath,"stroke-width":t.relativeStrokeWidth}}),t._v(" "),a("path",{staticClass:"circle-progress-circle-path",style:t.circlePathStyle,attrs:{stroke:"rgba(190, 190, 190, 0.7)","stroke-linecap":"bevel",fill:"none",d:t.trackPath,"stroke-width":t.relativeStrokeWidth}})])]),t._v(" "),a("div",{staticClass:"song-bg-box",class:{playing:t.playerState.playing}},[a("img",{attrs:{src:t.currentSongPicUrl}})]),t._v(" "),a("div",{staticClass:"toggle-box"},[a("transition",{attrs:{name:"module",mode:"out-in"}},[t.playerState.playing?a("button",{staticClass:"toggle-btn",attrs:{disabled:!t.playerState.ready},on:{click:t.togglePlay}},[a("i",{staticClass:"iconfont icon-music-pause"})]):a("button",{staticClass:"toggle-btn",attrs:{disabled:!t.playerState.ready},on:{click:t.togglePlay}},[a("i",{staticClass:"iconfont icon-music-play"})])])],1),t._v(" "),a("div",{staticClass:"toggle-muted"},[a("button",{staticClass:"muted-btn",attrs:{disabled:!t.playerState.ready},on:{click:t.toggleMuted}},[a("i",{staticClass:"iconfont",class:[t.playerState.muted?"icon-music-muted":"icon-music-volume"]})])])]),t._v(" "),a("button",{staticClass:"next-song",attrs:{disabled:!t.playerState.ready},on:{click:t.nextSong}},[a("i",{staticClass:"iconfont icon-music-next"})])]),t._v(" "),a("div",{staticClass:"song-info"},[t.currentSong?a("h3",[a("span",[t._v(t._s(t.currentSong.name))]),t._v(" "),a("span",[t._v(" By ")]),t._v(" "),t._l(t.currentSong.artists,function(e,s){return a("span",{key:s},[t._v(t._s(e.name))])}),t._v(" "),a("span",[t._v(" / ")]),t._v(" "),a("span",[t._v(t._s(t.currentSong.album.name||"unknow"))])],2):a("h3",[t._v("Kind words are the music of the world.")])])])},[],!1,null,"84c95598",null);o.options.__file="music.vue";e.default=o.exports}}]);